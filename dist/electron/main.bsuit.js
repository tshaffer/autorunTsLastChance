!function(t,e){if("object"===typeof exports&&"object"===typeof module)module.exports=e();else if("function"===typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"===typeof exports?exports:t)[r]=n[r]}}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./",n(n.s=79)}([function(t,e){t.exports=require("lodash")},function(t,e){t.exports=require("@brightsign/bsdatamodel")},function(t,e){t.exports=require("react")},function(t,e){t.exports=require("@brightsign/bscore")},function(t,e,n){var r;r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:c}catch(t){r=c}}();var a,s=[],f=!1,l=-1;function d(){f&&a&&(f=!1,a.length?s=a.concat(s):l=-1,s.length&&p())}function p(){if(!f){var t=u(d);f=!0;for(var e=s.length;e;){for(a=s,s=[];++l<e;)a&&a[l].run();l=-1,e=s.length}a=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new h(t,e)),1!==s.length||f||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=n(8),o=n(7),c={resolve:o.noop,relative:o.noop},u=Object.assign({},r.win32,c);e.win32=u;var a=Object.assign({},r.posix,c);e.posix=a;var s,f,l,d,p,h,y,m,v,S,b,g,E={win32:u,posix:a};E=i.isWin()?Object.assign({},E,u):Object.assign({},E,a),e.normalize=s,e.join=f,e.resolve=l,e.isAbsolute=d,e.relative=p,e.dirname=h,e.basename=y,e.extname=m,e.sep=v,e.delimiter=S,e.parse=b,e.format=g,i.isWin()?(e.normalize=s=u.normalize,e.join=f=u.join,e.resolve=l=u.resolve,e.isAbsolute=d=u.isAbsolute,e.relative=p=u.relative,e.dirname=h=u.dirname,e.basename=y=u.basename,e.extname=m=u.extname,e.sep=v=u.sep,e.delimiter=S=u.delimiter,e.parse=b=u.parse,e.format=g=u.format):(e.normalize=s=a.normalize,e.join=f=a.join,e.resolve=l=a.resolve,e.isAbsolute=d=a.isAbsolute,e.relative=p=a.relative,e.dirname=h=a.dirname,e.basename=y=a.basename,e.extname=m=a.extname,e.sep=v=a.sep,e.delimiter=S=a.delimiter,e.parse=b=a.parse,e.format=g=a.format),e.default=E},function(t,e){"function"===typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"===typeof t&&"function"===typeof t.copy&&"function"===typeof t.fill&&"function"===typeof t.readUInt8}},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(u(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,c=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}})),a=r[n];n<o;a=r[++n])y(a)||!g(a)?c+=" "+a:c+=" "+u(a);return c},e.deprecate=function(n,r){if("undefined"!==typeof t&&!0===t.noDeprecation)return n;if("undefined"===typeof t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,c={};function u(t,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&e._extend(r,n),S(r.showHidden)&&(r.showHidden=!1),S(r.depth)&&(r.depth=2),S(r.colors)&&(r.colors=!1),S(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),f(r,t,r.depth)}function a(t,e){var n=u.styles[e];return n?"\x1b["+u.colors[n][0]+"m"+t+"\x1b["+u.colors[n][1]+"m":t}function s(t,e){return t}function f(t,n,r){if(t.customInspect&&n&&O(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return v(i)||(i=f(t,i,r)),i}var o=function(t,e){if(S(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):h(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var c=Object.keys(n),u=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(c);if(t.showHidden&&(c=Object.getOwnPropertyNames(n)),w(n)&&(c.indexOf("message")>=0||c.indexOf("description")>=0))return l(n);if(0===c.length){if(O(n)){var a=n.name?": "+n.name:"";return t.stylize("[Function"+a+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return l(n)}var s,g="",I=!1,T=["{","}"];return p(n)&&(I=!0,T=["[","]"]),O(n)&&(g=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(g=" "+RegExp.prototype.toString.call(n)),E(n)&&(g=" "+Date.prototype.toUTCString.call(n)),w(n)&&(g=" "+l(n)),0!==c.length||I&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),s=I?function(t,e,n,r,i){for(var o=[],c=0,u=e.length;c<u;++c)x(e,String(c))?o.push(d(t,e,n,r,String(c),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(t,e,n,r,i,!0))})),o}(t,n,r,u,c):c.map((function(e){return d(t,n,r,u,e,I)})),t.seen.pop(),function(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(s,g,T)):T[0]+g+T[1]}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,n,r,i,o){var c,u,a;if((a=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=a.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):a.set&&(u=t.stylize("[Setter]","special")),x(r,i)||(c="["+i+"]"),u||(t.seen.indexOf(a.value)<0?(u=y(n)?f(t,a.value,null):f(t,a.value,n-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+u.split("\n").map((function(t){return"   "+t})).join("\n")):u=t.stylize("[Circular]","special")),S(c)){if(o&&i.match(/^\d+$/))return u;(c=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=t.stylize(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=t.stylize(c,"string"))}return c+": "+u}function p(t){return Array.isArray(t)}function h(t){return"boolean"===typeof t}function y(t){return null===t}function m(t){return"number"===typeof t}function v(t){return"string"===typeof t}function S(t){return void 0===t}function b(t){return g(t)&&"[object RegExp]"===I(t)}function g(t){return"object"===typeof t&&null!==t}function E(t){return g(t)&&"[object Date]"===I(t)}function w(t){return g(t)&&("[object Error]"===I(t)||t instanceof Error)}function O(t){return"function"===typeof t}function I(t){return Object.prototype.toString.call(t)}function T(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(S(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!c[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;c[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else c[n]=function(){};return c[n]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=h,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=v,e.isSymbol=function(t){return"symbol"===typeof t},e.isUndefined=S,e.isRegExp=b,e.isObject=g,e.isDate=E,e.isError=w,e.isFunction=O,e.isPrimitive=function(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t},e.isBuffer=n(3);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var t=new Date,e=[T(t.getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":");return[t.getDate(),P[t.getMonth()],e].join(" ")}function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",j(),e.format.apply(e,arguments))},e.inherits=n(2),e._extend=function(t,e){if(!e||!g(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var N="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function _(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');if(N&&t[N]){var e;if("function"!==typeof(e=t[N]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,N,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(c){n(c)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),N&&Object.defineProperty(e,N,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=N,e.callbackify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,c=function(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(c,null,e)}),(function(e){t.nextTick(_,e,c)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(e,n(0))},function(t,e,n){"use strict";(function(e){var r="win32"===e.platform,i=n(4);function o(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r];i&&"."!==i&&(".."===i?n.length&&".."!==n[n.length-1]?n.pop():e&&n.push(".."):n.push(i))}return n}function c(t){for(var e=t.length-1,n=0;n<=e&&!t[n];n++);for(var r=e;r>=0&&!t[r];r--);return 0===n&&r===e?t:n>r?[]:t.slice(n,r+1)}var u=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,a=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,s={};function f(t){var e=u.exec(t),n=(e[1]||"")+(e[2]||""),r=e[3]||"",i=a.exec(r);return[n,i[1],i[2],i[3]]}function l(t){var e=u.exec(t),n=e[1]||"",r=!!n&&":"!==n[1];return{device:n,isUnc:r,isAbsolute:r||!!e[2],tail:e[3]}}function d(t){return"\\\\"+t.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}s.resolve=function(){for(var t="",n="",r=!1,c=arguments.length-1;c>=-1;c--){var u;if(c>=0?u=arguments[c]:t?(u=e.env["="+t])&&u.substr(0,3).toLowerCase()===t.toLowerCase()+"\\"||(u=t+"\\"):u=e.cwd(),!i.isString(u))throw new TypeError("Arguments to path.resolve must be strings");if(u){var a=l(u),s=a.device,f=a.isUnc,p=a.isAbsolute,h=a.tail;if((!s||!t||s.toLowerCase()===t.toLowerCase())&&(t||(t=s),r||(n=h+"\\"+n,r=p),t&&r))break}}return f&&(t=d(t)),t+(r?"\\":"")+(n=o(n.split(/[\\\/]+/),!r).join("\\"))||"."},s.normalize=function(t){var e=l(t),n=e.device,r=e.isUnc,i=e.isAbsolute,c=e.tail,u=/[\\\/]$/.test(c);return(c=o(c.split(/[\\\/]+/),!i).join("\\"))||i||(c="."),c&&u&&(c+="\\"),r&&(n=d(n)),n+(i?"\\":"")+c},s.isAbsolute=function(t){return l(t).isAbsolute},s.join=function(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(!i.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&t.push(n)}var r=t.join("\\");return/^[\\\/]{2}[^\\\/]/.test(t[0])||(r=r.replace(/^[\\\/]{2,}/,"\\")),s.normalize(r)},s.relative=function(t,e){t=s.resolve(t),e=s.resolve(e);for(var n=t.toLowerCase(),r=e.toLowerCase(),i=c(e.split("\\")),o=c(n.split("\\")),u=c(r.split("\\")),a=Math.min(o.length,u.length),f=a,l=0;l<a;l++)if(o[l]!==u[l]){f=l;break}if(0==f)return e;var d=[];for(l=f;l<o.length;l++)d.push("..");return(d=d.concat(i.slice(f))).join("\\")},s._makeLong=function(t){if(!i.isString(t))return t;if(!t)return"";var e=s.resolve(t);return/^[a-zA-Z]\:\\/.test(e)?"\\\\?\\"+e:/^\\\\[^?.]/.test(e)?"\\\\?\\UNC\\"+e.substring(2):t},s.dirname=function(t){var e=f(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},s.basename=function(t,e){var n=f(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},s.extname=function(t){return f(t)[3]},s.format=function(t){if(!i.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!i.isString(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);var n=t.dir,r=t.base||"";return n?n[n.length-1]===s.sep?n+r:n+s.sep+r:r},s.parse=function(t){if(!i.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=f(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},s.sep="\\",s.delimiter=";";var p=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,h={};function y(t){return p.exec(t).slice(1)}h.resolve=function(){for(var t="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var c=r>=0?arguments[r]:e.cwd();if(!i.isString(c))throw new TypeError("Arguments to path.resolve must be strings");c&&(t=c+"/"+t,n="/"===c[0])}return(n?"/":"")+(t=o(t.split("/"),!n).join("/"))||"."},h.normalize=function(t){var e=h.isAbsolute(t),n=t&&"/"===t[t.length-1];return(t=o(t.split("/"),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},h.isAbsolute=function(t){return"/"===t.charAt(0)},h.join=function(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];if(!i.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&(t+=t?"/"+n:n)}return h.normalize(t)},h.relative=function(t,e){t=h.resolve(t).substr(1),e=h.resolve(e).substr(1);for(var n=c(t.split("/")),r=c(e.split("/")),i=Math.min(n.length,r.length),o=i,u=0;u<i;u++)if(n[u]!==r[u]){o=u;break}var a=[];for(u=o;u<n.length;u++)a.push("..");return(a=a.concat(r.slice(o))).join("/")},h._makeLong=function(t){return t},h.dirname=function(t){var e=y(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},h.basename=function(t,e){var n=y(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},h.extname=function(t){return y(t)[3]},h.format=function(t){if(!i.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!i.isString(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);return(t.dir?t.dir+h.sep:"")+(t.base||"")},h.parse=function(t){if(!i.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=y(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return e[1]=e[1]||"",e[2]=e[2]||"",e[3]=e[3]||"",{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},h.sep="/",h.delimiter=":",t.exports=r?s:h,t.exports.posix=h,t.exports.win32=s}).call(e,n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.noop=function(t,e){throw Error("method unsupported in isomorphic-path")}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.isMac=function(){return!(!t||"string"!==typeof t.platform||"darwin"!==t.platform.toLowerCase())||"undefined"!==typeof navigator&&"string"===typeof navigator.platform&&navigator.platform.toLowerCase().indexOf("mac")>-1},e.isWin=function(){return!(!t||"string"!==typeof t.platform||"win32"!==t.platform.toLowerCase())||"undefined"!==typeof navigator&&"string"===typeof navigator.platform&&navigator.platform.toLowerCase().indexOf("win")>-1},e.isBrowser=function(){return"undefined"!==typeof window},e.isNode=function(){return"undefined"===typeof window&&"undefined"!==typeof t}}).call(e,n(0))}])},t.exports=r()},function(t,e,n){var r,i,o=n(13),c=n(32),u=n(34),a=n(36),s=n(22);function f(t,e){Object.defineProperty(t,r,{get:function(){return e}})}"function"===typeof Symbol&&"function"===typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",i="___graceful-fs.previous");var l=function(){};if(s.debuglog?l=s.debuglog("gfs4"):/\bgfs4\b/i.test(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,PLATFORM:"electron"}).NODE_DEBUG||"")&&(l=function(){var t=s.format.apply(s,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!o[r]){var d=global[r]||[];f(o,d),o.close=function(t){function e(e,n){return t.call(o,e,(function(t){t||y(),"function"===typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(e,i,{value:t}),e}(o.close),o.closeSync=function(t){function e(e){t.apply(o,arguments),y()}return Object.defineProperty(e,i,{value:t}),e}(o.closeSync),/\bgfs4\b/i.test(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,PLATFORM:"electron"}).NODE_DEBUG||"")&&process.on("exit",(function(){l(o[r]),n(23).equal(o[r].length,0)}))}function p(t){c(t),t.gracefulify=p,t.createReadStream=function(e,n){return new t.ReadStream(e,n)},t.createWriteStream=function(e,n){return new t.WriteStream(e,n)};var e=t.readFile;t.readFile=function(t,n,r){"function"===typeof n&&(r=n,n=null);return function t(n,r,i){return e(n,r,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"===typeof i&&i.apply(this,arguments),y()):h([t,[n,r,i]])}))}(t,n,r)};var n=t.writeFile;t.writeFile=function(t,e,r,i){"function"===typeof r&&(i=r,r=null);return function t(e,r,i,o){return n(e,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"===typeof o&&o.apply(this,arguments),y()):h([t,[e,r,i,o]])}))}(t,e,r,i)};var r=t.appendFile;r&&(t.appendFile=function(t,e,n,i){"function"===typeof n&&(i=n,n=null);return function t(e,n,i,o){return r(e,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"===typeof o&&o.apply(this,arguments),y()):h([t,[e,n,i,o]])}))}(t,e,n,i)});var i=t.readdir;function o(e){return i.apply(t,e)}if(t.readdir=function(t,e,n){var r=[t];"function"!==typeof e?r.push(e):n=e;return r.push((function(t,e){e&&e.sort&&e.sort();!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"===typeof n&&n.apply(this,arguments),y()):h([o,[r]])})),o(r)},"v0.8"===process.version.substr(0,4)){var a=u(t);m=a.ReadStream,v=a.WriteStream}var s=t.ReadStream;s&&(m.prototype=Object.create(s.prototype),m.prototype.open=function(){var t=this;b(t.path,t.flags,t.mode,(function(e,n){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n),t.read())}))});var f=t.WriteStream;f&&(v.prototype=Object.create(f.prototype),v.prototype.open=function(){var t=this;b(t.path,t.flags,t.mode,(function(e,n){e?(t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return m},set:function(t){m=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return v},set:function(t){v=t},enumerable:!0,configurable:!0});var l=m;Object.defineProperty(t,"FileReadStream",{get:function(){return l},set:function(t){l=t},enumerable:!0,configurable:!0});var d=v;function m(t,e){return this instanceof m?(s.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function v(t,e){return this instanceof v?(f.apply(this,arguments),this):v.apply(Object.create(v.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return d},set:function(t){d=t},enumerable:!0,configurable:!0});var S=t.open;function b(t,e,n,r){return"function"===typeof n&&(r=n,n=null),function t(e,n,r,i){return S(e,n,r,(function(o,c){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"===typeof i&&i.apply(this,arguments),y()):h([t,[e,n,r,i]])}))}(t,e,n,r)}return t.open=b,t}function h(t){l("ENQUEUE",t[0].name,t[1]),o[r].push(t)}function y(){var t=o[r].shift();t&&(l("RETRY",t[0].name,t[1]),t[0].apply(null,t[1]))}global[r]||f(global,o[r]),t.exports=p(a(o)),Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,PLATFORM:"electron"}).TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(t.exports=p(o),o.__patched=!0)},function(t,e){t.exports=require("path")},function(t,e,n){"use strict";e.fromCallback=function(t){return Object.defineProperty((function(){for(var e=this,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if("function"!==typeof r[r.length-1])return new Promise((function(n,i){t.apply(e,r.concat([function(t,e){return t?i(t):n(e)}]))}));t.apply(this,r)}),"name",{value:t.name})},e.fromPromise=function(t){return Object.defineProperty((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[n.length-1];if("function"!==typeof i)return t.apply(this,n);t.apply(this,n.slice(0,-1)).then((function(t){return i(null,t)}),i)}),"name",{value:t.name})}},function(t,e,n){"use strict";var r=n(7).fromPromise,i=n(38),o=i.makeDir,c=i.makeDirSync,u=r(o);t.exports={mkdirs:u,mkdirsSync:c,mkdirp:u,mkdirpSync:c,ensureDir:u,ensureDirSync:c}},function(t,e){t.exports=require("react-redux")},function(t,e){t.exports=require("redux")},function(t,e,n){"use strict";var r=n(21);t.exports=r(r(r(r(r(r(r(r(r(r(r(r({},n(14)),n(24)),n(27)),n(47)),n(49)),n(55)),n(8)),n(60)),n(62)),n(20)),n(12)),n(16));var i=n(13);Object.getOwnPropertyDescriptor(i,"promises")&&Object.defineProperty(t.exports,"promises",{get:function(){return i.promises}})},function(t,e,n){"use strict";var r=n(7).fromPromise,i=n(14);t.exports={pathExists:r((function(t){return i.access(t).then((function(){return!0})).catch((function(){return!1}))})),pathExistsSync:i.existsSync}},function(t,e){t.exports=require("fs")},function(t,e,n){"use strict";var r=n(7).fromCallback,i=n(5),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((function(t){return"function"===typeof i[t]}));Object.keys(i).forEach((function(t){"promises"!==t&&(e[t]=i[t])})),o.forEach((function(t){e[t]=r(i[t])})),e.exists=function(t,e){return"function"===typeof e?i.exists(t,e):new Promise((function(e){return i.exists(t,e)}))},e.read=function(t,e,n,r,o,c){return"function"===typeof c?i.read(t,e,n,r,o,c):new Promise((function(c,u){i.read(t,e,n,r,o,(function(t,e,n){if(t)return u(t);c({bytesRead:e,buffer:n})}))}))},e.write=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return"function"===typeof r[r.length-1]?i.write.apply(i,[t,e].concat(r)):new Promise((function(n,o){i.write.apply(i,[t,e].concat(r,[function(t,e,r){if(t)return o(t);n({bytesWritten:e,buffer:r})}]))}))},"function"===typeof i.writev&&(e.writev=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return"function"===typeof r[r.length-1]?i.writev.apply(i,[t,e].concat(r)):new Promise((function(n,o){i.writev.apply(i,[t,e].concat(r,[function(t,e,r){if(t)return o(t);n({bytesWritten:e,buffers:r})}]))}))}),"function"===typeof i.realpath.native&&(e.realpath.native=r(i.realpath.native))},function(t,e,n){"use strict";var r=n(40),i=n(14),o=n(6),c=n(22),u=n(25)("10.5.0"),a=function(t){return u?i.stat(t,{bigint:!0}):i.stat(t)},s=function(t){return u?i.statSync(t,{bigint:!0}):i.statSync(t)};function f(t,e){return Promise.all([a(t),a(e).catch((function(t){if("ENOENT"===t.code)return null;throw t}))]).then((function(t){var e=r(t,2);return{srcStat:e[0],destStat:e[1]}}))}function l(t,e){if(e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev){if(u||e.ino<Number.MAX_SAFE_INTEGER)return!0;if(e.size===t.size&&e.mode===t.mode&&e.nlink===t.nlink&&e.atimeMs===t.atimeMs&&e.mtimeMs===t.mtimeMs&&e.ctimeMs===t.ctimeMs&&e.birthtimeMs===t.birthtimeMs)return!0}return!1}function d(t,e){var n=o.resolve(t).split(o.sep).filter((function(t){return t})),r=o.resolve(e).split(o.sep).filter((function(t){return t}));return n.reduce((function(t,e,n){return t&&r[n]===e}),!0)}function p(t,e,n){return"Cannot ".concat(n," '").concat(t,"' to a subdirectory of itself, '").concat(e,"'.")}t.exports={checkPaths:function(t,e,n,r){c.callbackify(f)(t,e,(function(i,o){if(i)return r(i);var c=o.srcStat,u=o.destStat;return u&&l(c,u)?r(new Error("Source and destination must not be the same.")):c.isDirectory()&&d(t,e)?r(new Error(p(t,e,n))):r(null,{srcStat:c,destStat:u})}))},checkPathsSync:function(t,e,n){var r=function(t,e){var n,r=s(t);try{n=s(e)}catch(i){if("ENOENT"===i.code)return{srcStat:r,destStat:null};throw i}return{srcStat:r,destStat:n}}(t,e),i=r.srcStat,o=r.destStat;if(o&&l(i,o))throw new Error("Source and destination must not be the same.");if(i.isDirectory()&&d(t,e))throw new Error(p(t,e,n));return{srcStat:i,destStat:o}},checkParentPaths:function t(e,n,r,c,a){var s=o.resolve(o.dirname(e)),f=o.resolve(o.dirname(r));if(f===s||f===o.parse(f).root)return a();var d=function(i,o){return i?"ENOENT"===i.code?a():a(i):l(n,o)?a(new Error(p(e,r,c))):t(e,n,f,c,a)};u?i.stat(f,{bigint:!0},d):i.stat(f,d)},checkParentPathsSync:function t(e,n,r,i){var c=o.resolve(o.dirname(e)),u=o.resolve(o.dirname(r));if(u!==c&&u!==o.parse(u).root){var a;try{a=s(u)}catch(f){if("ENOENT"===f.code)return;throw f}if(l(n,a))throw new Error(p(e,r,i));return t(e,n,u,i)}},isSrcSubdir:d}},function(t,e,n){"use strict";var r=n(7).fromCallback,i=n(48);t.exports={remove:r(i),removeSync:i.sync}},function(t,e,n){t.exports=n(39)},function(t,e){function n(t,e,n,r,i,o,c){try{var u=t[o](c),a=u.value}catch(s){return void n(s)}u.done?e(a):Promise.resolve(a).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var c=t.apply(e,r);function u(t){n(c,i,o,u,a,"next",t)}function a(t){n(c,i,o,u,a,"throw",t)}u(void 0)}))}}},function(t,e){t.exports={stringify:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.EOL||"\n",r=JSON.stringify(t,e?e.replacer:null,e.spaces);return r.replace(/\n/g,n)+n},stripBom:function(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}}},function(t,e,n){"use strict";var r=n(7).fromCallback,i=n(5),o=n(6),c=n(8),u=n(12).pathExists;t.exports={outputFile:r((function(t,e,n,r){"function"===typeof n&&(r=n,n="utf8");var a=o.dirname(t);u(a,(function(o,u){return o?r(o):u?i.writeFile(t,e,n,r):void c.mkdirs(a,(function(o){if(o)return r(o);i.writeFile(t,e,n,r)}))}))})),outputFileSync:function(t){for(var e=o.dirname(t),n=arguments.length,r=new Array(n>1?n-1:0),u=1;u<n;u++)r[u-1]=arguments[u];if(i.existsSync(e))return i.writeFileSync.apply(i,[t].concat(r));c.mkdirsSync(e),i.writeFileSync.apply(i,[t].concat(r))}}},function(t,e,n){var r=n(31);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e){t.exports=require("util")},function(t,e){t.exports=require("assert")},function(t,e,n){"use strict";t.exports={copySync:n(37)}},function(t,e){t.exports=function(t){var e=process.versions.node.split(".").map((function(t){return parseInt(t,10)}));return t=t.split(".").map((function(t){return parseInt(t,10)})),e[0]>t[0]||e[0]===t[0]&&(e[1]>t[1]||e[1]===t[1]&&e[2]>=t[2])}},function(t,e,n){"use strict";var r=n(5);t.exports={utimesMillis:function(t,e,n,i){r.open(t,"r+",(function(t,o){if(t)return i(t);r.futimes(o,e,n,(function(t){r.close(o,(function(e){i&&i(t||e)}))}))}))},utimesMillisSync:function(t,e,n){var i=r.openSync(t,"r+");return r.futimesSync(i,e,n),r.closeSync(i)}}},function(t,e,n){"use strict";var r=n(7).fromCallback;t.exports={copy:r(n(46))}},function(t,e,n){"use strict";var r={bmp:n(66),cur:n(67),dds:n(68),gif:n(69),icns:n(70),ico:n(29),jpg:n(71),png:n(72),psd:n(73),svg:n(74),tiff:n(75),webp:n(77)};t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=t.readUInt8(e);return 0===n?256:n}function i(t,e){var n=6+16*e;return{width:r(t,n),height:r(t,n+1)}}t.exports={detect:function(t){return 0===t.readUInt16LE(0)&&1===t.readUInt16LE(2)},calculate:function(t){var e,n=t.readUInt16LE(4),r=i(t,0);if(1===n)return r;for(r.images=[{width:r.width,height:r.height}],e=1;e<n;e+=1)r.images.push(i(t,e));return r}}},function(t,e,n){"use strict";var r=n(13),i=n(6),o=n(28),c=n(78),u=524288;function a(t,e){var n=c(t,e);if(n in o){var r=o[n].calculate(t,e);if(!1!==r)return r.type=n,r}throw new TypeError("unsupported file type: "+n+" (file: "+e+")")}t.exports=function(t,e){if(Buffer.isBuffer(t))return a(t);if("string"!==typeof t)throw new TypeError("invalid invocation");var n=i.resolve(t);if("function"!==typeof e)return a(function(t){var e=r.openSync(t,"r"),n=r.fstatSync(e).size,i=Math.min(n,u),o=new Buffer(i);return r.readSync(e,o,0,i,0),r.closeSync(e),o}(n),n);!function(t,e){r.open(t,"r",(function(n,i){if(n)return e(n);r.fstat(i,(function(n,o){if(n)return e(n);var c=o.size;if(c<=0)return e(new Error("File size is not greater than 0 \u2014\u2014 "+t));var a=Math.min(c,u),s=new Buffer(a);r.read(i,s,0,a,0,(function(t){if(t)return e(t);r.close(i,(function(t){e(t,s)}))}))}))}))}(n,(function(t,r){if(t)return e(t);var i;try{i=a(r,n)}catch(o){t=o}e(t,i)}))},t.exports.types=Object.keys(o)},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var r=n(33),i=process.cwd,o=null,c=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,PLATFORM:"electron"}).GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(a){}var u=process.chdir;process.chdir=function(t){o=null,u.call(process,t)},t.exports=function(t){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,n,i){t.open(e,r.O_WRONLY|r.O_SYMLINK,n,(function(e,r){e?i&&i(e):t.fchmod(r,n,(function(e){t.close(r,(function(t){i&&i(e||t)}))}))}))},t.lchmodSync=function(e,n){var i,o=t.openSync(e,r.O_WRONLY|r.O_SYMLINK,n),c=!0;try{i=t.fchmodSync(o,n),c=!1}finally{if(c)try{t.closeSync(o)}catch(a){}else t.closeSync(o)}return i}}(t);t.lutimes||function(t){r.hasOwnProperty("O_SYMLINK")?(t.lutimes=function(e,n,i,o){t.open(e,r.O_SYMLINK,(function(e,r){e?o&&o(e):t.futimes(r,n,i,(function(e){t.close(r,(function(t){o&&o(e||t)}))}))}))},t.lutimesSync=function(e,n,i){var o,c=t.openSync(e,r.O_SYMLINK),u=!0;try{o=t.futimesSync(c,n,i),u=!1}finally{if(u)try{t.closeSync(c)}catch(a){}else t.closeSync(c)}return o}):(t.lutimes=function(t,e,n,r){r&&process.nextTick(r)},t.lutimesSync=function(){})}(t);t.chown=o(t.chown),t.fchown=o(t.fchown),t.lchown=o(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=u(t.chownSync),t.fchownSync=u(t.fchownSync),t.lchownSync=u(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=s(t.stat),t.fstat=s(t.fstat),t.lstat=s(t.lstat),t.statSync=f(t.statSync),t.fstatSync=f(t.fstatSync),t.lstatSync=f(t.lstatSync),t.lchmod||(t.lchmod=function(t,e,n){n&&process.nextTick(n)},t.lchmodSync=function(){});t.lchown||(t.lchown=function(t,e,n,r){r&&process.nextTick(r)},t.lchownSync=function(){});"win32"===c&&(t.rename=(e=t.rename,function(n,r,i){var o=Date.now(),c=0;e(n,r,(function u(a){if(a&&("EACCES"===a.code||"EPERM"===a.code)&&Date.now()-o<6e4)return setTimeout((function(){t.stat(r,(function(t,o){t&&"ENOENT"===t.code?e(n,r,u):i(a)}))}),c),void(c<100&&(c+=10));i&&i(a)}))}));var e;function n(e){return e?function(n,r,i){return e.call(t,n,r,(function(t){l(t)&&(t=null),i&&i.apply(this,arguments)}))}:e}function i(e){return e?function(n,r){try{return e.call(t,n,r)}catch(a){if(!l(a))throw a}}:e}function o(e){return e?function(n,r,i,o){return e.call(t,n,r,i,(function(t){l(t)&&(t=null),o&&o.apply(this,arguments)}))}:e}function u(e){return e?function(n,r,i){try{return e.call(t,n,r,i)}catch(a){if(!l(a))throw a}}:e}function s(e){return e?function(n,r,i){function o(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"===typeof r&&(i=r,r=null),r?e.call(t,n,r,o):e.call(t,n,o)}:e}function f(e){return e?function(n,r){var i=r?e.call(t,n,r):e.call(t,n);return i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296),i}:e}function l(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read=function(e){function n(n,r,i,o,c,u){var a;if(u&&"function"===typeof u){var s=0;a=function(f,l,d){if(f&&"EAGAIN"===f.code&&s<10)return s++,e.call(t,n,r,i,o,c,a);u.apply(this,arguments)}}return e.call(t,n,r,i,o,c,a)}return n.__proto__=e,n}(t.read),t.readSync=(d=t.readSync,function(e,n,r,i,o){for(var c=0;;)try{return d.call(t,e,n,r,i,o)}catch(a){if("EAGAIN"===a.code&&c<10){c++;continue}throw a}});var d}},function(t,e){t.exports=require("constants")},function(t,e,n){var r=n(35).Stream;t.exports=function(t){return{ReadStream:function e(n,i){if(!(this instanceof e))return new e(n,i);r.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var c=Object.keys(i),u=0,a=c.length;u<a;u++){var s=c[u];this[s]=i[s]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!==typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!==typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){o._read()}));t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return o.emit("error",t),void(o.readable=!1);o.fd=e,o.emit("open",e),o._read()}))},WriteStream:function e(n,i){if(!(this instanceof e))return new e(n,i);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),c=0,u=o.length;c<u;c++){var a=o[c];this[a]=i[a]}if(void 0!==this.start){if("number"!==typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(t,e){t.exports=require("stream")},function(t,e,n){"use strict";t.exports=function(t){if(null===t||"object"!==typeof t)return t;if(t instanceof Object)var e={__proto__:t.__proto__};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}},function(t,e,n){"use strict";var r=n(5),i=n(6),o=n(8).mkdirsSync,c=n(26).utimesMillisSync,u=n(15);function a(t,e,n,o){if(!o.filter||o.filter(e,n))return function(t,e,n,o){var c=(o.dereference?r.statSync:r.lstatSync)(e);if(c.isDirectory())return function(t,e,n,i,o){if(!e)return function(t,e,n,i){return r.mkdirSync(n),l(e,n,i),f(n,t)}(t.mode,n,i,o);if(e&&!e.isDirectory())throw new Error("Cannot overwrite non-directory '".concat(i,"' with directory '").concat(n,"'."));return l(n,i,o)}(c,t,e,n,o);if(c.isFile()||c.isCharacterDevice()||c.isBlockDevice())return function(t,e,n,i,o){return e?function(t,e,n,i){if(i.overwrite)return r.unlinkSync(n),s(t,e,n,i);if(i.errorOnExist)throw new Error("'".concat(n,"' already exists"))}(t,n,i,o):s(t,n,i,o)}(c,t,e,n,o);if(c.isSymbolicLink())return function(t,e,n,o){var c=r.readlinkSync(e);o.dereference&&(c=i.resolve(process.cwd(),c));if(t){var a;try{a=r.readlinkSync(n)}catch(s){if("EINVAL"===s.code||"UNKNOWN"===s.code)return r.symlinkSync(c,n);throw s}if(o.dereference&&(a=i.resolve(process.cwd(),a)),u.isSrcSubdir(c,a))throw new Error("Cannot copy '".concat(c,"' to a subdirectory of itself, '").concat(a,"'."));if(r.statSync(n).isDirectory()&&u.isSrcSubdir(a,c))throw new Error("Cannot overwrite '".concat(a,"' with '").concat(c,"'."));return function(t,e){return r.unlinkSync(e),r.symlinkSync(t,e)}(c,n)}return r.symlinkSync(c,n)}(t,e,n,o)}(t,e,n,o)}function s(t,e,n,i){return r.copyFileSync(e,n),i.preserveTimestamps&&function(t,e,n){(function(t){return 0===(128&t)})(t)&&function(t,e){f(t,128|e)}(n,t);(function(t,e){var n=r.statSync(t);c(e,n.atime,n.mtime)})(e,n)}(t.mode,e,n),f(n,t.mode)}function f(t,e){return r.chmodSync(t,e)}function l(t,e,n){r.readdirSync(t).forEach((function(r){return function(t,e,n,r){var o=i.join(e,t),c=i.join(n,t);return a(u.checkPathsSync(o,c,"copy").destStat,o,c,r)}(r,t,e,n)}))}t.exports=function(t,e,n){"function"===typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");var c=u.checkPathsSync(t,e,"copy"),s=c.srcStat,f=c.destStat;return u.checkParentPathsSync(t,s,e,"copy"),function(t,e,n,c){if(c.filter&&!c.filter(e,n))return;var u=i.dirname(n);r.existsSync(u)||o(u);return a(t,e,n,c)}(f,t,e,n)}},function(t,e,n){"use strict";var r=n(17),i=n(18),o=n(21),c=n(14),u=n(6),a=n(25)("10.12.0"),s=function(t){if("win32"===process.platform&&/[<>:"|?*]/.test(t.replace(u.parse(t).root,""))){var e=new Error("Path contains invalid characters: ".concat(t));throw e.code="EINVAL",e}},f=function(t){return"number"===typeof t&&(t={mode:t}),o(o({},{mode:511}),t)},l=function(t){var e=new Error("operation not permitted, mkdir '".concat(t,"'"));return e.code="EPERM",e.errno=-4048,e.path=t,e.syscall="mkdir",e};t.exports.makeDir=function(){var t=i(r.mark((function t(e,n){var o,d;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s(e),n=f(n),!a){t.next=5;break}return o=u.resolve(e),t.abrupt("return",c.mkdir(o,{mode:n.mode,recursive:!0}));case 5:return d=function(){var t=i(r.mark((function t(e){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.mkdir(e,n.mode);case 3:t.next=28;break;case 5:if(t.prev=5,t.t0=t.catch(0),"EPERM"!==t.t0.code){t.next=9;break}throw t.t0;case 9:if("ENOENT"!==t.t0.code){t.next=17;break}if(u.dirname(e)!==e){t.next=12;break}throw l(e);case 12:if(!t.t0.message.includes("null bytes")){t.next=14;break}throw t.t0;case 14:return t.next=16,d(u.dirname(e));case 16:return t.abrupt("return",d(e));case 17:return t.prev=17,t.next=20,c.stat(e);case 20:if(t.sent.isDirectory()){t.next=23;break}throw new Error("The path is not a directory");case 23:t.next=28;break;case 25:throw t.prev=25,t.t1=t.catch(17),t.t0;case 28:case"end":return t.stop()}}),t,null,[[0,5],[17,25]])})));return function(e){return t.apply(this,arguments)}}(),t.abrupt("return",d(u.resolve(e)));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),t.exports.makeDirSync=function(t,e){if(s(t),e=f(e),a){var n=u.resolve(t);return c.mkdirSync(n,{mode:e.mode,recursive:!0})}return function t(n){try{c.mkdirSync(n,e.mode)}catch(r){if("EPERM"===r.code)throw r;if("ENOENT"===r.code){if(u.dirname(n)===n)throw l(n);if(r.message.includes("null bytes"))throw r;return t(u.dirname(n)),t(n)}try{if(!c.statSync(n).isDirectory())throw new Error("The path is not a directory")}catch(i){throw r}}}(u.resolve(t))}},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(D){a=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,o=Object.create(i.prototype),c=new x(r||[]);return o._invoke=function(t,e,n){var r=l;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return _()}for(n.method=i,n.arg=o;;){var c=n.delegate;if(c){var u=T(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var a=f(t,e,n);if("normal"===a.type){if(r=n.done?h:d,a.arg===y)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r=h,n.method="throw",n.arg=a.arg)}}}(t,n,c),o}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(D){return{type:"throw",arg:D}}}t.wrap=s;var l="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function m(){}function v(){}function S(){}var b={};b[o]=function(){return this};var g=Object.getPrototypeOf,E=g&&g(g(N([])));E&&E!==n&&r.call(E,o)&&(b=E);var w=S.prototype=m.prototype=Object.create(b);function O(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function n(i,o,c,u){var a=f(t[i],t,o);if("throw"!==a.type){var s=a.arg,l=s.value;return l&&"object"===typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(l).then((function(t){s.value=t,c(s)}),(function(t){return n("throw",t,c,u)}))}u(a.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function T(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=f(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function N(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,c=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return c.next=c}}return{next:_}}function _(){return{value:e,done:!0}}return v.prototype=w.constructor=S,S.constructor=v,v.displayName=a(S,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,a(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},O(I.prototype),I.prototype[c]=function(){return this},t.AsyncIterator=I,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var c=new I(s(e,n,r,i),o);return t.isGeneratorFunction(n)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},O(w),a(w,u,"Generator"),w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=N,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],u=c.completion;if("root"===c.tryLoc)return i("end");if(c.tryLoc<=this.prev){var a=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(a&&s){if(this.prev<c.catchLoc)return i(c.catchLoc,!0);if(this.prev<c.finallyLoc)return i(c.finallyLoc)}else if(a){if(this.prev<c.catchLoc)return i(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return i(c.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){var r=n(41),i=n(42),o=n(43),c=n(45);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||c()}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var c,u=t[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(a){i=!0,o=a}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}}},function(t,e,n){var r=n(44);t.exports=function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){"use strict";var r=n(5),i=n(6),o=n(8).mkdirs,c=n(12).pathExists,u=n(26).utimesMillis,a=n(15);function s(t,e,n,r,u){var a=i.dirname(n);c(a,(function(i,c){return i?u(i):c?l(t,e,n,r,u):void o(a,(function(i){return i?u(i):l(t,e,n,r,u)}))}))}function f(t,e,n,r,i,o){Promise.resolve(i.filter(n,r)).then((function(c){return c?t(e,n,r,i,o):o()}),(function(t){return o(t)}))}function l(t,e,n,r,i){return r.filter?f(d,t,e,n,r,i):d(t,e,n,r,i)}function d(t,e,n,i,o){(i.dereference?r.stat:r.lstat)(e,(function(c,u){return c?o(c):u.isDirectory()?function(t,e,n,i,o,c){if(!e)return function(t,e,n,i,o){r.mkdir(n,(function(r){if(r)return o(r);m(e,n,i,(function(e){return e?o(e):y(n,t,o)}))}))}(t.mode,n,i,o,c);if(e&&!e.isDirectory())return c(new Error("Cannot overwrite non-directory '".concat(i,"' with directory '").concat(n,"'.")));return m(n,i,o,c)}(u,t,e,n,i,o):u.isFile()||u.isCharacterDevice()||u.isBlockDevice()?function(t,e,n,i,o,c){return e?function(t,e,n,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error("'".concat(n,"' already exists"))):o();r.unlink(n,(function(r){return r?o(r):p(t,e,n,i,o)}))}(t,n,i,o,c):p(t,n,i,o,c)}(u,t,e,n,i,o):u.isSymbolicLink()?S(t,e,n,i,o):void 0}))}function p(t,e,n,i,o){r.copyFile(e,n,(function(r){return r?o(r):i.preserveTimestamps?function(t,e,n,r){if(function(t){return 0===(128&t)}(t))return function(t,e,n){return y(t,128|e,n)}(n,t,(function(i){return i?r(i):h(t,e,n,r)}));return h(t,e,n,r)}(t.mode,e,n,o):y(n,t.mode,o)}))}function h(t,e,n,i){!function(t,e,n){r.stat(t,(function(t,r){return t?n(t):u(e,r.atime,r.mtime,n)}))}(e,n,(function(e){return e?i(e):y(n,t,i)}))}function y(t,e,n){return r.chmod(t,e,n)}function m(t,e,n,i){r.readdir(t,(function(r,o){return r?i(r):v(o,t,e,n,i)}))}function v(t,e,n,r,o){var c=t.pop();return c?function(t,e,n,r,o,c){var u=i.join(n,e),s=i.join(r,e);a.checkPaths(u,s,"copy",(function(e,i){if(e)return c(e);l(i.destStat,u,s,o,(function(e){return e?c(e):v(t,n,r,o,c)}))}))}(t,c,e,n,r,o):o()}function S(t,e,n,o,c){r.readlink(e,(function(e,u){return e?c(e):(o.dereference&&(u=i.resolve(process.cwd(),u)),t?void r.readlink(n,(function(e,s){return e?"EINVAL"===e.code||"UNKNOWN"===e.code?r.symlink(u,n,c):c(e):(o.dereference&&(s=i.resolve(process.cwd(),s)),a.isSrcSubdir(u,s)?c(new Error("Cannot copy '".concat(u,"' to a subdirectory of itself, '").concat(s,"'."))):t.isDirectory()&&a.isSrcSubdir(s,u)?c(new Error("Cannot overwrite '".concat(s,"' with '").concat(u,"'."))):function(t,e,n){r.unlink(e,(function(i){return i?n(i):r.symlink(t,e,n)}))}(u,n,c))})):r.symlink(u,n,c))}))}t.exports=function(t,e,n,r){"function"!==typeof n||r?"function"===typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),a.checkPaths(t,e,"copy",(function(i,o){if(i)return r(i);var c=o.srcStat,u=o.destStat;a.checkParentPaths(t,c,e,"copy",(function(i){return i?r(i):n.filter?f(s,u,t,e,n,r):s(u,t,e,n,r)}))}))}},function(t,e,n){"use strict";var r=n(7).fromCallback,i=n(5),o=n(6),c=n(8),u=n(16),a=r((function(t,e){e=e||function(){},i.readdir(t,(function(n,r){if(n)return c.mkdirs(t,e);r=r.map((function(e){return o.join(t,e)})),function t(){var n=r.pop();if(!n)return e();u.remove(n,(function(n){if(n)return e(n);t()}))}()}))}));function s(t){var e;try{e=i.readdirSync(t)}catch(n){return c.mkdirsSync(t)}e.forEach((function(e){e=o.join(t,e),u.removeSync(e)}))}t.exports={emptyDirSync:s,emptydirSync:s,emptyDir:a,emptydir:a}},function(t,e,n){"use strict";var r=n(5),i=n(6),o=n(23),c="win32"===process.platform;function u(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((function(e){t[e]=t[e]||r[e],t[e+="Sync"]=t[e]||r[e]})),t.maxBusyTries=t.maxBusyTries||3}function a(t,e,n){var r=0;"function"===typeof e&&(n=e,e={}),o(t,"rimraf: missing path"),o.strictEqual(typeof t,"string","rimraf: path should be a string"),o.strictEqual(typeof n,"function","rimraf: callback function required"),o(e,"rimraf: invalid options argument provided"),o.strictEqual(typeof e,"object","rimraf: options should be object"),u(e),s(t,e,(function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<e.maxBusyTries)return r++,setTimeout((function(){return s(t,e,i)}),100*r);"ENOENT"===o.code&&(o=null)}n(o)}))}function s(t,e,n){o(t),o(e),o("function"===typeof n),e.lstat(t,(function(r,i){return r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&c?f(t,e,r,n):i&&i.isDirectory()?d(t,e,r,n):void e.unlink(t,(function(r){if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return c?f(t,e,r,n):d(t,e,r,n);if("EISDIR"===r.code)return d(t,e,r,n)}return n(r)}))}))}function f(t,e,n,r){o(t),o(e),o("function"===typeof r),e.chmod(t,438,(function(i){i?r("ENOENT"===i.code?null:n):e.stat(t,(function(i,o){i?r("ENOENT"===i.code?null:n):o.isDirectory()?d(t,e,n,r):e.unlink(t,r)}))}))}function l(t,e,n){var r;o(t),o(e);try{e.chmodSync(t,438)}catch(i){if("ENOENT"===i.code)return;throw n}try{r=e.statSync(t)}catch(c){if("ENOENT"===c.code)return;throw n}r.isDirectory()?h(t,e,n):e.unlinkSync(t)}function d(t,e,n,r){o(t),o(e),o("function"===typeof r),e.rmdir(t,(function(c){!c||"ENOTEMPTY"!==c.code&&"EEXIST"!==c.code&&"EPERM"!==c.code?c&&"ENOTDIR"===c.code?r(n):r(c):function(t,e,n){o(t),o(e),o("function"===typeof n),e.readdir(t,(function(r,o){if(r)return n(r);var c,u=o.length;if(0===u)return e.rmdir(t,n);o.forEach((function(r){a(i.join(t,r),e,(function(r){if(!c)return r?n(c=r):void(0===--u&&e.rmdir(t,n))}))}))}))}(t,e,r)}))}function p(t,e){var n;u(e=e||{}),o(t,"rimraf: missing path"),o.strictEqual(typeof t,"string","rimraf: path should be a string"),o(e,"rimraf: missing options"),o.strictEqual(typeof e,"object","rimraf: options should be object");try{n=e.lstatSync(t)}catch(r){if("ENOENT"===r.code)return;"EPERM"===r.code&&c&&l(t,e,r)}try{n&&n.isDirectory()?h(t,e,null):e.unlinkSync(t)}catch(r){if("ENOENT"===r.code)return;if("EPERM"===r.code)return c?l(t,e,r):h(t,e,r);if("EISDIR"!==r.code)throw r;h(t,e,r)}}function h(t,e,n){o(t),o(e);try{e.rmdirSync(t)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(t,e){if(o(t),o(e),e.readdirSync(t).forEach((function(n){return p(i.join(t,n),e)})),!c)return e.rmdirSync(t,e);var n=Date.now();do{try{return e.rmdirSync(t,e)}catch(r){}}while(Date.now()-n<500)}(t,e);else if("ENOENT"!==r.code)throw r}}t.exports=a,a.sync=p},function(t,e,n){"use strict";var r=n(50),i=n(51),o=n(52);t.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},function(t,e,n){"use strict";var r=n(7).fromCallback,i=n(6),o=n(5),c=n(8);t.exports={createFile:r((function(t,e){function n(){o.writeFile(t,"",(function(t){if(t)return e(t);e()}))}o.stat(t,(function(r,u){if(!r&&u.isFile())return e();var a=i.dirname(t);o.stat(a,(function(t,r){if(t)return"ENOENT"===t.code?c.mkdirs(a,(function(t){if(t)return e(t);n()})):e(t);r.isDirectory()?n():o.readdir(a,(function(t){if(t)return e(t)}))}))}))})),createFileSync:function(t){var e;try{e=o.statSync(t)}catch(r){}if(!e||!e.isFile()){var n=i.dirname(t);try{o.statSync(n).isDirectory()||o.readdirSync(n)}catch(u){if(!u||"ENOENT"!==u.code)throw u;c.mkdirsSync(n)}o.writeFileSync(t,"")}}}},function(t,e,n){"use strict";var r=n(7).fromCallback,i=n(6),o=n(5),c=n(8),u=n(12).pathExists;t.exports={createLink:r((function(t,e,n){function r(t,e){o.link(t,e,(function(t){if(t)return n(t);n(null)}))}u(e,(function(a,s){return a?n(a):s?n(null):void o.lstat(t,(function(o){if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);var a=i.dirname(e);u(a,(function(i,o){return i?n(i):o?r(t,e):void c.mkdirs(a,(function(i){if(i)return n(i);r(t,e)}))}))}))}))})),createLinkSync:function(t,e){if(!o.existsSync(e)){try{o.lstatSync(t)}catch(r){throw r.message=r.message.replace("lstat","ensureLink"),r}var n=i.dirname(e);return o.existsSync(n)||c.mkdirsSync(n),o.linkSync(t,e)}}}},function(t,e,n){"use strict";var r=n(7).fromCallback,i=n(6),o=n(5),c=n(8),u=c.mkdirs,a=c.mkdirsSync,s=n(53),f=s.symlinkPaths,l=s.symlinkPathsSync,d=n(54),p=d.symlinkType,h=d.symlinkTypeSync,y=n(12).pathExists;t.exports={createSymlink:r((function(t,e,n,r){r="function"===typeof n?n:r,n="function"!==typeof n&&n,y(e,(function(c,a){return c?r(c):a?r(null):void f(t,e,(function(c,a){if(c)return r(c);t=a.toDst,p(a.toCwd,n,(function(n,c){if(n)return r(n);var a=i.dirname(e);y(a,(function(n,i){return n?r(n):i?o.symlink(t,e,c,r):void u(a,(function(n){if(n)return r(n);o.symlink(t,e,c,r)}))}))}))}))}))})),createSymlinkSync:function(t,e,n){if(!o.existsSync(e)){var r=l(t,e);t=r.toDst,n=h(r.toCwd,n);var c=i.dirname(e);return o.existsSync(c)||a(c),o.symlinkSync(t,e,n)}}}},function(t,e,n){"use strict";var r=n(6),i=n(5),o=n(12).pathExists;t.exports={symlinkPaths:function(t,e,n){if(r.isAbsolute(t))return i.lstat(t,(function(e){return e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:t})}));var c=r.dirname(e),u=r.join(c,t);return o(u,(function(e,o){return e?n(e):o?n(null,{toCwd:u,toDst:t}):i.lstat(t,(function(e){return e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:r.relative(c,t)})}))}))},symlinkPathsSync:function(t,e){if(r.isAbsolute(t)){if(!i.existsSync(t))throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}var n=r.dirname(e),o=r.join(n,t);if(i.existsSync(o))return{toCwd:o,toDst:t};if(!i.existsSync(t))throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:r.relative(n,t)}}}},function(t,e,n){"use strict";var r=n(5);t.exports={symlinkType:function(t,e,n){if(n="function"===typeof e?e:n,e="function"!==typeof e&&e)return n(null,e);r.lstat(t,(function(t,r){if(t)return n(null,"file");e=r&&r.isDirectory()?"dir":"file",n(null,e)}))},symlinkTypeSync:function(t,e){var n;if(e)return e;try{n=r.lstatSync(t)}catch(i){return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(t,e,n){"use strict";var r=n(7).fromPromise,i=n(56);i.outputJson=r(n(58)),i.outputJsonSync=n(59),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,t.exports=i},function(t,e,n){"use strict";var r=n(57);t.exports={readJson:r.readFile,readJsonSync:r.readFileSync,writeJson:r.writeFile,writeJsonSync:r.writeFileSync}},function(t,e,n){var r,i=n(17),o=n(18);try{r=n(5)}catch(p){r=n(13)}var c=n(7),u=n(19),a=u.stringify,s=u.stripBom;function f(){return(f=o(i.mark((function t(e){var n,o,u,a,f,l=arguments;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"===typeof(n=l.length>1&&void 0!==l[1]?l[1]:{})&&(n={encoding:n}),o=n.fs||r,u=!("throws"in n)||n.throws,t.next=6,c.fromCallback(o.readFile)(e,n);case 6:a=t.sent,a=s(a),t.prev=8,f=JSON.parse(a,n?n.reviver:null),t.next=20;break;case 12:if(t.prev=12,t.t0=t.catch(8),!u){t.next=19;break}throw t.t0.message="".concat(e,": ").concat(t.t0.message),t.t0;case 19:return t.abrupt("return",null);case 20:return t.abrupt("return",f);case 21:case"end":return t.stop()}}),t,null,[[8,12]])})))).apply(this,arguments)}function l(){return(l=o(i.mark((function t(e,n){var o,u,s,f=arguments;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=f.length>2&&void 0!==f[2]?f[2]:{},u=o.fs||r,s=a(n,o),t.next=5,c.fromCallback(u.writeFile)(e,s,o);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var d={readFile:c.fromPromise((function(t){return f.apply(this,arguments)})),readFileSync:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"===typeof e&&(e={encoding:e});var n=e.fs||r,i=!("throws"in e)||e.throws;try{var o=n.readFileSync(t,e);return o=s(o),JSON.parse(o,e.reviver)}catch(c){if(i)throw c.message="".concat(t,": ").concat(c.message),c;return null}},writeFile:c.fromPromise((function(t,e){return l.apply(this,arguments)})),writeFileSync:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.fs||r,o=a(e,n);return i.writeFileSync(t,o,n)}};t.exports=d},function(t,e,n){"use strict";var r=n(17),i=n(18),o=n(19).stringify,c=n(20).outputFile;function u(){return(u=i(r.mark((function t(e,n){var i,u,a=arguments;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a.length>2&&void 0!==a[2]?a[2]:{},u=o(n,i),t.next=4,c(e,u,i);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t.exports=function(t,e){return u.apply(this,arguments)}},function(t,e,n){"use strict";var r=n(19).stringify,i=n(20).outputFileSync;t.exports=function(t,e,n){var o=r(e,n);i(t,o,n)}},function(t,e,n){"use strict";t.exports={moveSync:n(61)}},function(t,e,n){"use strict";var r=n(5),i=n(6),o=n(24).copySync,c=n(16).removeSync,u=n(8).mkdirpSync,a=n(15);function s(t,e,n){try{r.renameSync(t,e)}catch(i){if("EXDEV"!==i.code)throw i;return function(t,e,n){return o(t,e,{overwrite:n,errorOnExist:true}),c(t)}(t,e,n)}}t.exports=function(t,e,n){var o=(n=n||{}).overwrite||n.clobber||!1,f=a.checkPathsSync(t,e,"move").srcStat;return a.checkParentPathsSync(t,f,e,"move"),u(i.dirname(e)),function(t,e,n){if(n)return c(e),s(t,e,n);if(r.existsSync(e))throw new Error("dest already exists.");return s(t,e,n)}(t,e,o)}},function(t,e,n){"use strict";var r=n(7).fromCallback;t.exports={move:r(n(63))}},function(t,e,n){"use strict";var r=n(5),i=n(6),o=n(27).copy,c=n(16).remove,u=n(8).mkdirp,a=n(12).pathExists,s=n(15);function f(t,e,n,i){r.rename(t,e,(function(r){return r?"EXDEV"!==r.code?i(r):function(t,e,n,r){o(t,e,{overwrite:n,errorOnExist:!0},(function(e){return e?r(e):c(t,r)}))}(t,e,n,i):i()}))}t.exports=function(t,e,n,r){"function"===typeof n&&(r=n,n={});var o=n.overwrite||n.clobber||!1;s.checkPaths(t,e,"move",(function(n,l){if(n)return r(n);var d=l.srcStat;s.checkParentPaths(t,d,e,"move",(function(n){if(n)return r(n);u(i.dirname(e),(function(n){return n?r(n):function(t,e,n,r){if(n)return c(e,(function(i){return i?r(i):f(t,e,n,r)}));a(e,(function(i,o){return i?r(i):o?r(new Error("dest already exists.")):f(t,e,n,r)}))}(t,e,o,r)}))}))}))}},function(t,e){t.exports=require("process")},function(t,e,n){var r=n(13),i=n(6);function o(t){console.log("[dotenv][DEBUG] ".concat(t))}var c=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,u=/\\n/g,a=/\n|\r|\r\n/;function s(t,e){var n=Boolean(e&&e.debug),r={};return t.toString().split(a).forEach((function(t,e){var i=t.match(c);if(null!=i){var a=i[1],s=i[2]||"",f=s.length-1,l='"'===s[0]&&'"'===s[f];"'"===s[0]&&"'"===s[f]||l?(s=s.substring(1,f),l&&(s=s.replace(u,"\n"))):s=s.trim(),r[a]=s}else n&&o("did not match key and value when parsing line ".concat(e+1,": ").concat(t))})),r}t.exports.config=function(t){var e=i.resolve(process.cwd(),".env"),n="utf8",c=!1;t&&(null!=t.path&&(e=t.path),null!=t.encoding&&(n=t.encoding),null!=t.debug&&(c=!0));try{var u=s(r.readFileSync(e,{encoding:n}),{debug:c});return Object.keys(u).forEach((function(t){Object.prototype.hasOwnProperty.call(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,PLATFORM:"electron"}),t)?c&&o('"'.concat(t,'" is already defined in `process.env` and will not be overwritten')):Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,PLATFORM:"electron"})[t]=u[t]})),{parsed:u}}catch(a){return{error:a}}},t.exports.parse=s},function(t,e,n){"use strict";t.exports={detect:function(t){return"BM"===t.toString("ascii",0,2)},calculate:function(t){return{width:t.readUInt32LE(18),height:Math.abs(t.readInt32LE(22))}}}},function(t,e,n){"use strict";t.exports={detect:function(t){return 0===t.readUInt16LE(0)&&2===t.readUInt16LE(2)},calculate:n(29).calculate}},function(t,e,n){"use strict";t.exports={detect:function(t){return 542327876===t.readUInt32LE(0)},calculate:function(t){return{height:t.readUInt32LE(12),width:t.readUInt32LE(16)}}}},function(t,e,n){"use strict";var r=/^GIF8[79]a/;t.exports={detect:function(t){var e=t.toString("ascii",0,6);return r.test(e)},calculate:function(t){return{width:t.readUInt16LE(6),height:t.readUInt16LE(8)}}}},function(t,e,n){"use strict";var r={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function i(t,e){var n=e+4;return[t.toString("ascii",e,n),t.readUInt32BE(n)]}function o(t){var e=r[t];return{width:e,height:e,type:t}}t.exports={detect:function(t){return"icns"===t.toString("ascii",0,4)},calculate:function(t){var e,n,r,c=t.length,u=8,a=t.readUInt32BE(4);if(n=o((e=i(t,u))[0]),(u+=e[1])===a)return n;for(r={width:n.width,height:n.height,images:[n]};u<a&&u<c;)n=o((e=i(t,u))[0]),u+=e[1],r.images.push(n);return r}}},function(t,e,n){"use strict";function r(t,e){return{height:t.readUInt16BE(e),width:t.readUInt16BE(e+2)}}function i(t,e){if(e>t.length)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(255!==t[e])throw new TypeError("Invalid JPG, marker table corrupted")}t.exports={detect:function(t){return"ffd8"===t.toString("hex",0,2)},calculate:function(t){var e,n;for(t=t.slice(4);t.length;){if(e=t.readUInt16BE(0),i(t,e),192===(n=t[e+1])||193===n||194===n)return r(t,e+5);t=t.slice(e+2)}throw new TypeError("Invalid JPG, no size found")}}},function(t,e,n){"use strict";var r="CgBI";t.exports={detect:function(t){if("PNG\r\n\x1a\n"===t.toString("ascii",1,8)){var e=t.toString("ascii",12,16);if(e===r&&(e=t.toString("ascii",28,32)),"IHDR"!==e)throw new TypeError("invalid png");return!0}},calculate:function(t){return t.toString("ascii",12,16)===r?{width:t.readUInt32BE(32),height:t.readUInt32BE(36)}:{width:t.readUInt32BE(16),height:t.readUInt32BE(20)}}}},function(t,e,n){"use strict";t.exports={detect:function(t){return"8BPS"===t.toString("ascii",0,4)},calculate:function(t){return{width:t.readUInt32BE(18),height:t.readUInt32BE(14)}}}},function(t,e,n){"use strict";var r=/<svg[^>]+[^>]*>/;var i=/<svg\s[^>]+>/,o=/\bwidth=(['"])([^%]+?)\1/,c=/\bheight=(['"])([^%]+?)\1/,u=/\bviewBox=(['"])(.+?)\1/;function a(t){var e=t.split(" ");return{width:parseInt(e[2],10),height:parseInt(e[3],10)}}t.exports={detect:function(t){return r.test(t)},calculate:function(t){var e=t.toString("utf8").match(i);if(e){var n=function(t){var e=t.match(o),n=t.match(c),r=t.match(u);return{width:e&&parseInt(e[2],10),height:n&&parseInt(n[2],10),viewbox:r&&a(r[2])}}(e[0]);if(n.width&&n.height)return function(t){return{width:t.width,height:t.height}}(n);if(n.viewbox)return function(t){var e=t.viewbox.width/t.viewbox.height;return t.width?{width:t.width,height:Math.floor(t.width/e)}:t.height?{width:Math.floor(t.height*e),height:t.height}:{width:t.viewbox.width,height:t.viewbox.height}}(n)}throw new TypeError("invalid svg")}}},function(t,e,n){"use strict";var r=n(13),i=n(76);function o(t,e){var n=i(t,16,8,e);return(i(t,16,10,e)<<16)+n}function c(t){if(t.length>24)return t.slice(12)}t.exports={detect:function(t){var e=t.toString("hex",0,4);return"49492a00"===e||"4d4d002a"===e},calculate:function(t,e){if(!e)throw new TypeError("Tiff doesn't support buffer");var n="BE"===function(t){var e=t.toString("ascii",0,2);return"II"===e?"LE":"MM"===e?"BE":void 0}(t),u=function(t,e){for(var n,r,u,a={};t&&t.length&&(n=i(t,16,0,e),r=i(t,16,2,e),u=i(t,32,4,e),0!==n);)1!==u||3!==r&&4!==r||(a[n]=o(t,e)),t=c(t);return a}(function(t,e,n){var o=i(t,32,4,n),c=1024,u=r.statSync(e).size;o+c>u&&(c=u-o-10);var a=new Buffer(c),s=r.openSync(e,"r");return r.readSync(s,a,0,c,o),a.slice(2)}(t,e,n),n),a=u[256],s=u[257];if(!a||!s)throw new TypeError("Invalid Tiff, missing tags");return{width:a,height:s}}}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){return n=n||0,t["readUInt"+e+(r?"BE":"LE")].call(t,n)}},function(t,e,n){"use strict";t.exports={detect:function(t){var e="RIFF"===t.toString("ascii",0,4),n="WEBP"===t.toString("ascii",8,12),r="VP8"===t.toString("ascii",12,15);return e&&n&&r},calculate:function(t){var e=t.toString("ascii",12,16);if(t=t.slice(20,30),"VP8X"===e){var n=t[0];return!(!(0===(192&n))||!(0===(1&n)))&&function(t){return{width:1+t.readUIntLE(4,3),height:1+t.readUIntLE(7,3)}}(t)}if("VP8 "===e&&47!==t[0])return function(t){return{width:16383&t.readInt16LE(6),height:16383&t.readInt16LE(8)}}(t);var r=t.toString("hex",3,6);return"VP8L"===e&&"9d012a"!==r&&function(t){return{width:1+((63&t[2])<<8|t[1]),height:1+((15&t[4])<<10|t[3]<<2|(192&t[2])>>6)}}(t)}}},function(t,e,n){"use strict";var r=n(28);t.exports=function(t,e){var n;for(n in r)if(r[n].detect(t,e))return n}},function(t,e,n){"use strict";n.r(e),n.d(e,"BsPp",(function(){return cn})),n.d(e,"initPresentation",(function(){return Me})),n.d(e,"openSign",(function(){return Be})),n.d(e,"postVideoEnd",(function(){return Ye})),n.d(e,"createHsm",(function(){return Ee})),n.d(e,"initializeHsm",(function(){return we})),n.d(e,"constructorFunction",(function(){return Oe})),n.d(e,"hsmDispatch",(function(){return Ie})),n.d(e,"createHState",(function(){return Qt})),n.d(e,"createHStateSpecification",(function(){return te})),n.d(e,"mediaHStateEventHandler",(function(){return Pe})),n.d(e,"mediaHStateExitHandler",(function(){return Ne})),n.d(e,"launchTimer",(function(){return _e})),n.d(e,"createMediaZoneHsm",(function(){return ce})),n.d(e,"initializeVideoOrImagesZoneHsm",(function(){return ae})),n.d(e,"videoOrImagesZoneHsmGetInitialState",(function(){return se})),n.d(e,"createPlayerHsm",(function(){return fe})),n.d(e,"initializePlayerHsm",(function(){return le})),n.d(e,"playerHsmGetInitialState",(function(){return de})),n.d(e,"STPlayerEventHandler",(function(){return pe})),n.d(e,"STPlayingEventHandler",(function(){return he})),n.d(e,"STWaitingEventHandler",(function(){return ye})),n.d(e,"launchSchedulePlayback",(function(){return me})),n.d(e,"launchPresentationPlayback",(function(){return ve})),n.d(e,"createZoneHsm",(function(){return ee})),n.d(e,"createImageState",(function(){return ne})),n.d(e,"STImageStateEventHandler",(function(){return re})),n.d(e,"createVideoState",(function(){return ie})),n.d(e,"STVideoStateEventHandler",(function(){return oe})),n.d(e,"_bsPpStore",(function(){return Te})),n.d(e,"initPlayer",(function(){return ke})),n.d(e,"launchHsm",(function(){return Ae})),n.d(e,"addHsmEvent",(function(){return Le})),n.d(e,"enableBatching",(function(){return at})),n.d(e,"bsPpReducer",(function(){return st})),n.d(e,"isValidBsPpModelState",(function(){return ft})),n.d(e,"isValidBsPpModelStateShallow",(function(){return lt})),n.d(e,"ADD_HSM",(function(){return v})),n.d(e,"UPDATE_HSM_PROPERTIES",(function(){return S})),n.d(e,"SET_HSM_TOP",(function(){return b})),n.d(e,"SET_HSM_INITIALIZED",(function(){return g})),n.d(e,"ADD_HSTATE",(function(){return E})),n.d(e,"SET_MEDIA_H_STATE_TIMEOUT_ID",(function(){return w})),n.d(e,"SET_MEDIA_H_STATE_PARAMETER_DATA",(function(){return O})),n.d(e,"SET_ACTIVE_HSTATE",(function(){return I})),n.d(e,"QUEUE_HSM_EVENT",(function(){return T})),n.d(e,"DEQUEUE_HSM_EVENT",(function(){return P})),n.d(e,"addHsm",(function(){return j})),n.d(e,"updateHsmProperties",(function(){return x})),n.d(e,"setHsmTop",(function(){return N})),n.d(e,"setHsmInitialized",(function(){return _})),n.d(e,"setActiveHState",(function(){return D})),n.d(e,"addHState",(function(){return k})),n.d(e,"setMediaHStateTimeoutId",(function(){return A})),n.d(e,"setMediaHStateParameter",(function(){return L})),n.d(e,"queueHsmEvent",(function(){return R})),n.d(e,"dequeueHsmEvent",(function(){return M})),n.d(e,"hsmReducer",(function(){return U})),n.d(e,"isValidHsmState",(function(){return z})),n.d(e,"SET_VIDEO_ELEMENT_REF",(function(){return it})),n.d(e,"setVideoElementRef",(function(){return ot})),n.d(e,"playbackDefaults",(function(){return ct})),n.d(e,"playbackReducer",(function(){return ut})),n.d(e,"UPDATE_PRESENTATION_DATA",(function(){return G})),n.d(e,"UPDATE_RUNTIME_ENVIRONMENT",(function(){return V})),n.d(e,"UPDATE_PRESENTATION_SRC_DIRECTORY",(function(){return W})),n.d(e,"UPDATE_SYNC_SPEC_FILE_MAP",(function(){return J})),n.d(e,"UPDATE_AUTOSCHEDULE",(function(){return Y})),n.d(e,"UPDATE_SCREEN_DIMENSIONS",(function(){return q})),n.d(e,"updatePresentationData",(function(){return K})),n.d(e,"updateRuntimeEnvironment",(function(){return Z})),n.d(e,"updatePresentationSrcDirectory",(function(){return $})),n.d(e,"updatePresentationSyncSpecFileMap",(function(){return X})),n.d(e,"updatePresentationAutoschedule",(function(){return Q})),n.d(e,"updateScreenDimensions",(function(){return tt})),n.d(e,"presentationDataDefaults",(function(){return et})),n.d(e,"presentationDataReducer",(function(){return nt})),n.d(e,"getHsmMap",(function(){return ht})),n.d(e,"getHsmById",(function(){return yt})),n.d(e,"getHsmByName",(function(){return mt})),n.d(e,"getActiveHStateIdByHsmId",(function(){return vt})),n.d(e,"getHStateById",(function(){return St})),n.d(e,"getHStateByName",(function(){return bt})),n.d(e,"getHStateByMediaStateId",(function(){return gt})),n.d(e,"getHsmInitialized",(function(){return Et})),n.d(e,"getZoneHsmList",(function(){return wt})),n.d(e,"getZoneHsmFromZoneId",(function(){return Ot})),n.d(e,"getActiveMediaStateId",(function(){return It})),n.d(e,"getActiveMrssDisplayIndex",(function(){return Tt})),n.d(e,"getEvents",(function(){return Pt})),n.d(e,"getIsHsmInitialized",(function(){return jt})),n.d(e,"getRuntimeEnvironment",(function(){return xt})),n.d(e,"getSrcDirectory",(function(){return Nt})),n.d(e,"getScreenDimensions",(function(){return _t})),n.d(e,"getSyncSpecFileMap",(function(){return Dt})),n.d(e,"getAutoschedule",(function(){return kt})),n.d(e,"getPathFromAssetName",(function(){return At})),n.d(e,"getAssetPath",(function(){return Lt})),n.d(e,"getSyncSpecFile",(function(){return Mt})),n.d(e,"getSyncSpecReferencedFile",(function(){return Ft})),n.d(e,"getFeedPoolDirectory",(function(){return Ht})),n.d(e,"getFeedPoolFilePath",(function(){return Ct})),n.d(e,"feedPoolFileExists",(function(){return Ut})),n.d(e,"getFeedCacheRoot",(function(){return zt})),n.d(e,"RuntimeEnvironment",(function(){return f})),n.d(e,"bsPpStateFromState",(function(){return l})),n.d(e,"HsmType",(function(){return d})),n.d(e,"HsmTimerType",(function(){return p})),n.d(e,"HStateType",(function(){return h})),n.d(e,"newBsPpId",(function(){return $t})),n.d(e,"calculateAspectRatioFit",(function(){return Xt}));var r=n(2),i=n(9),o=n(10),c=n(0),u=n(4),a=n.n(u),s=n(11),f=function(){function t(){}return t.BrightSign="BrightSign",t.BaconPreview="BaconPreview",t.Dev="Dev",t}();Object.freeze(f);var l=function(t){if(t.hasOwnProperty("bspp")){var e=t.bspp;return{bsdm:t.bsdm,bacdm:t.bacdm,bsPlayer:{playback:e.playback,presentationData:e.presentationData,hsmState:e.hsmState}}}return t.hasOwnProperty("bsPlayer"),t},d=function(){function t(){}return t.Player="Player",t.VideoOrImages="VideoOrImages",t}();Object.freeze(d);var p=function(){function t(){}return t.MediaHState="MediaHState",t.MrssState="MrssState",t}();Object.freeze(d);var h=function(){function t(){}return t.Top="Top",t.Player="Player",t.Playing="Playing",t.Waiting="Waiting",t.Image="Image",t.Mrss="Mrss",t.Video="Video",t.SuperState="SuperState",t}();Object.freeze(h);var y=function(){return(y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},m=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],c=0,u=o.length;c<u;c++,i++)r[i]=o[c];return r},v="ADD_HSM",S="UPDATE_HSM_PROPERTIES",b="SET_HSM_TOP",g="SET_HSM_INITIALIZED",E="ADD_HSTATE",w="SET_MEDIA_H_STATE_TIMEOUT_ID",O="SET_MEDIA_H_STATE_PARAMETER_DATA",I="SET_ACTIVE_HSTATE",T="QUEUE_HSM_EVENT",P="DEQUEUE_HSM_EVENT";function j(t){return{type:v,payload:t}}function x(t){var e;return e=y({},t),{type:S,payload:e}}function N(t,e){return{type:b,payload:{hsmId:t,topStateId:e}}}function _(t,e){return{type:g,payload:{id:t,initialized:e}}}function D(t,e){return{type:I,payload:{id:t,activeState:e}}}function k(t,e,n){void 0===n&&(n=null);var r=e.type,i=e.hsmId,o=e.superStateId,u=e.name;return{type:E,payload:{id:t,type:r,hsmId:i,superStateId:o,name:u,data:Object(c.cloneDeep)(n)}}}function A(t,e){return{type:O,payload:{hStateId:t,timeoutId:e}}}function L(t,e,n){var r;return{type:O,payload:(r={hStateId:t},r[e]=n,r)}}function R(t){return{type:T,payload:t}}function M(){return{type:P,payload:null}}var F={},H={},C=[],U=Object(o.combineReducers)({hsmById:function(t,e){var n,r;switch(void 0===t&&(t=F),e.type){case v:var i=e.payload.id;return y(y({},t),((n={})[i]=e.payload,n));case S:var o=e.payload,u=(i=o.id,o.mediaStateIdToHState),a=y(y({},t[i]),{properties:y(y({},t[i].properties),{mediaStateIdToHState:u})});return y(y({},t),((r={})[i]=a,r));case b:var s=e.payload,f=s.hsmId,l=s.topStateId;return(p=Object(c.cloneDeep)(t))[f].topStateId=l,p;case g:i=e.payload.id;var d=e.payload.initialized;return(p=Object(c.cloneDeep)(t))[i].initialized=d,p;case I:var p=Object.assign({},t),h=(f=e.payload.id,e.payload.activeState);return Object(c.isNil)(h)?p[f].activeStateId=null:p[f].activeStateId=h.id,p;default:return t}},hStateById:function(t,e){var n,r,i;switch(void 0===t&&(t=H),e.type){case E:var o=e.payload.id;return y(y({},t),((n={})[o]=e.payload,n));case w:var u=e.payload.hStateId,a=y(y({},t[u]),e.payload);return y(y({},t),((r={})[u]=a,r));case O:var s=t[u=e.payload.hStateId],f=Object(c.cloneDeep)(s),l=f.data;if(Object(c.isNil)(l.mediaStateData))for(var d=0,p=Object.keys(e.payload);d<p.length;d++){if("hStateId"!==(S=p[d])){var h=((i={})[S]=e.payload[S],i);l.mediaStateData=h,f.data=l}}else{h=l.mediaStateData;for(var m=0,v=Object.keys(e.payload);m<v.length;m++){var S;"hStateId"!==(S=v[m])&&(h[S]=e.payload[S])}}var b=Object(c.cloneDeep)(t);return b[u]=f,b;default:return t}},hsmEventQueue:function(t,e){switch(void 0===t&&(t=C),e.type){case T:return m(t,[e.payload]);case P:return m(t.slice(1));default:return t}}}),z=function(t){return Object(c.isObject)(t)},B=function(){return(B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},G="UPDATE_PRESENTATION_DATA",V="UPDATE_RUNTIME_ENVIRONMENT",W="UPDATE_PRESENTATION_SRC_DIRECTORY",J="UPDATE_SYNC_SPEC_FILE_MAP",Y="UPDATE_AUTOSCHEDULE",q="UPDATE_SCREEN_DIMENSIONS";function K(t){return!Object(c.isObject)(t)||rt(t),{type:G,payload:t}}var Z=function(t){return{type:V,payload:{runtimeEnvironment:t}}},$=function(t){return{type:W,payload:{srcDirectory:t}}},X=function(t){return{type:J,payload:{syncSpecFileMap:t}}},Q=function(t){return{type:Y,payload:{autoSchedule:t}}},tt=function(t){return{type:q,payload:{screenDimensions:t}}},et={runtimeEnvironment:f.Dev,srcDirectory:"",syncSpecFileMap:null,autoSchedule:null,screenDimensions:{width:1920,height:1080}};Object.freeze(et);var nt=function(t,e){void 0===t&&(t=et);var n=e.type,r=e.payload;switch(n){case G:return Object.assign({},t,r);case V:return B(B({},t),{runtimeEnvironment:r.runtimeEnvironment});case W:return B(B({},t),{srcDirectory:r.srcDirectory});case J:return B(B({},t),{syncSpecFileMap:r.syncSpecFileMap});case Y:return B(B({},t),{autoSchedule:r.autoSchedule});case q:return B(B({},t),{screenDimensions:r.screenDimensions});default:return t}},rt=function(t){return!0},it="SET_VIDEO_ELEMENT_REF",ot=function(t){return{type:it,payload:{videoElementRef:t}}},ct={videoElementRef:null};Object.freeze(ct);var ut=function(t,e){void 0===t&&(t=ct);var n=e.type,r=e.payload;switch(n){case it:return{videoElementRef:r.videoElementRef};default:return t}},at=function(t){return function(e,n){return n.type,t(e,n)}},st=at(Object(o.combineReducers)({hsmState:U,playback:ut,presentationData:nt}));function ft(t){return!Object(c.isNil)(t)}function lt(t){return!Object(c.isNil)(t)}var dt=n(1),pt=n(3);function ht(t){return l(t).bsPlayer.hsmState.hsmById}function yt(t,e){return l(t).bsPlayer.hsmState.hsmById[e]}function mt(t,e){var n=l(t),r=ht(n),i=Object(c.find)(Object.keys(r),(function(t){return r[t].name===e}));return i?yt(n,i):null}var vt=function(t,e){var n=l(t),r=yt(n,e);return Object(c.isNil)(r)?null:St(n,r.activeStateId)};function St(t,e){var n=l(t);if(Object(c.isNil)(e))return null;var r=n.bsPlayer.hsmState.hStateById[e];return Object(c.isNil)(r),r}function bt(t,e){var n=l(t);if(Object(c.isNil)(e))return null;var r=n.bsPlayer.hsmState.hStateById,i=Object(c.find)(Object.keys(r),(function(t){return!!r.hasOwnProperty(t)&&r[t].name===e}));return i?St(n,i):null}function gt(t,e,n){var r=l(t);return Object(c.isNil)(n)?null:St(t,yt(r,e).properties.mediaStateIdToHState[n].id)}function Et(t,e){return l(t).bsPlayer.hsmState.hsmById[e].initialized}function wt(t){var e=[],n=l(t).bsPlayer.hsmState.hsmById;for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];"VideoOrImages"===i.type&&e.push(i)}return e}function Ot(t,e){for(var n=0,r=wt(l(t));n<r.length;n++){var i=r[n];if(!Object(c.isNil)(i.properties)&&Object(c.isString)(i.properties.zoneId)&&i.properties.zoneId===e)return i}return null}function It(t,e){var n=l(t),r=Ot(t,e);if(!Object(c.isNil)(r)){var i=St(n,r.activeStateId);return Object(c.isNil)(i)?r.activeStateId:i.data.mediaStateId}return""}function Tt(t,e){var n=Ot(t,e);if(!Object(c.isNil)(n)){var r=It(t,e),i=Object(dt.dmGetMediaStateById)(Object(dt.dmFilterDmState)(t),{id:r});if(!Object(c.isNil)(i))if(i.contentItem.type===pt.ContentItemType.MrssFeed){var o=gt(t,n.id,r);if(!Object(c.isNil)(o))return o.data.mediaStateData.displayIndex}}return-1}function Pt(t){return l(t).bsPlayer.hsmState.hsmEventQueue}var jt=function(t){var e=ht(l(t));for(var n in e){if(e.hasOwnProperty(n))if(!e[n].initialized)return!1}return!0};function xt(t){var e=l(t);return Object(c.isNil)(e.bsPlayer)||Object(c.isNil)(e.bsPlayer.presentationData)?f.Dev:e.bsPlayer.presentationData.runtimeEnvironment}function Nt(t){var e=l(t);return Object(c.isNil)(e.bsPlayer)||Object(c.isNil)(e.bsPlayer.presentationData)||Object(c.isNil)(e.bsPlayer.presentationData.srcDirectory)?"":e.bsPlayer.presentationData.srcDirectory}function _t(t){var e=l(t);return Object(c.isNil)(e.bsPlayer)||Object(c.isNil)(e.bsPlayer.presentationData)||Object(c.isNil)(e.bsPlayer.presentationData.screenDimensions)?{width:1920,height:1080}:e.bsPlayer.presentationData.screenDimensions}var Dt=function(t){return t=l(t),Object(c.isNil)(t.bsPlayer)||Object(c.isNil)(t.bsPlayer.presentationData)?null:t.bsPlayer.presentationData.syncSpecFileMap},kt=function(t){var e=l(t);return Object(c.isNil)(e.bsPlayer)||Object(c.isNil)(e.bsPlayer.presentationData)?null:e.bsPlayer.presentationData.autoSchedule};function At(t,e){var n=Object(dt.dmFilterDmState)(t),r=Object(dt.dmGetAssetItemListForFileName)(n,{name:e});if(1===r.length){var i=r[0];return a.a.join(i.path,i.name)}return""}function Lt(t,e){switch(xt(t)){case f.BaconPreview:return At(t,e);case f.Dev:case f.BrightSign:return Rt(t,e)}return""}function Rt(t,e){return function(t){t=l(t);var e={},n=Dt(t),r=Nt(t);if(!Object(c.isNil)(n)&&Object(c.isString)(r))for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];e[i]=a.a.join(r,o.link)}return e}(t=l(t))[e]}var Mt=function(t,e){t=l(t);var n=Dt(t);if(Object(c.isNil)(n))return Promise.reject("No sync spec");if(!n.hasOwnProperty(e))return Promise.reject("file not found");var r=n[e],i=Nt(t),o=a.a.join(i,r.link);return s.readFile(o,"utf8").then((function(t){var e=JSON.parse(t);return Promise.resolve(e)}))};function Ft(t,e,n){if(!e.hasOwnProperty(t))return Promise.reject("file not found");var r=e[t],i=a.a.join(n,r.link);return s.readFile(i,"utf8").then((function(t){var e=JSON.parse(t);return Promise.resolve(e)}))}function Ht(t){var e=Nt(t);return a.a.join(e,"feedPool")}function Ct(t,e){var n=Ht(t),r=e.length,i=e.substring(r-2,r-1),o=e.substring(r-1,r),c="nohash-"+e;return a.a.join(n,i,o,c)}function Ut(t,e){var n=Ht(t),r=e.length,i=e.substring(r-2,r-1),o=e.substring(r-1,r),c="nohash-"+e,u=a.a.join(n,i,o,c);return""!==u&&s.existsSync(u)?u:""}function zt(t){var e=Nt(t);return a.a.join(e,"feed_cache")}var Bt="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),Gt=new Uint8Array(16);function Vt(){if(!Bt)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bt(Gt)}var Wt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Jt=function(t){return"string"===typeof t&&Wt.test(t)},Yt=[],qt=0;qt<256;++qt)Yt.push((qt+256).toString(16).substr(1));var Kt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Yt[t[e+0]]+Yt[t[e+1]]+Yt[t[e+2]]+Yt[t[e+3]]+"-"+Yt[t[e+4]]+Yt[t[e+5]]+"-"+Yt[t[e+6]]+Yt[t[e+7]]+"-"+Yt[t[e+8]]+Yt[t[e+9]]+"-"+Yt[t[e+10]]+Yt[t[e+11]]+Yt[t[e+12]]+Yt[t[e+13]]+Yt[t[e+14]]+Yt[t[e+15]]).toLowerCase();if(!Jt(n))throw TypeError("Stringified UUID is invalid");return n};var Zt=function(t,e,n){var r=(t=t||{}).random||(t.rng||Vt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Kt(r)},$t=function(){return Zt()},Xt=function(t,e,n,r){var i=Math.min(n/t,r/e);return{width:t*i,height:e*i}},Qt=function(t,e){return void 0===e&&(e=null),function(n){var r=$t();return n(k(r,t,e)),r}},te=function(t,e,n,r){return{type:t,hsmId:e,superStateId:n,name:r}},ee=function(t,e,n){return function(r,i){var o=r(Ee(t,e,n));r(Qt(te(h.Top,o,"","top")));var u=bt(l(i()),"top");return r(N(o,Object(c.isNil)(u)?"":u.id)),o}},ne=function(t,e,n){return function(r){return r(Qt(te(h.Image,t,n,""),{mediaStateId:e.id}))}},re=function(t,e,n){return function(r){return"ENTRY_SIGNAL"===e.EventType?(r(_e(t)),"HANDLED"):"EXIT_SIGNAL"===e.EventType?(r(Ne(t.id)),n.nextStateId=t.superStateId,"SUPER"):r(Pe(t,e,n))}},ie=function(t,e,n){return function(r){return r(Qt(te(h.Video,t,n,""),{mediaStateId:e.id}))}},oe=function(t,e,n){return function(r){return"ENTRY_SIGNAL"===e.EventType?(r(_e(t)),"HANDLED"):"EXIT_SIGNAL"===e.EventType?(r(Ne(t.id)),n.nextStateId=t.superStateId,"SUPER"):r(Pe(t,e,n))}},ce=function(t,e,n){return function(r,i){for(var o={zoneId:n.id,x:n.position.x,y:n.position.y,height:n.position.height,width:n.position.width,initialMediaStateId:n.initialMediaStateId,mediaStateIdToHState:{}},c=r(ee(t,e,o)),u=yt(l(i()),c),a=Object(dt.dmFilterDmState)(l(i())),s=0,f=Object(dt.dmGetMediaStateIdsForZone)(a,{id:n.id});s<f.length;s++){var d=f[s],p=Object(dt.dmGetMediaStateById)(a,{id:d});r(ue(c,p,u.topStateId))}}},ue=function(t,e,n){return function(r,i){var o=yt(l(i()),t);if(!Object(c.isNil)(o))switch(e.contentItem.type){case pt.ContentItemType.Image:var u=r(ne(t,e,n)),a=St(l(i()),u),s=Object(c.cloneDeep)(o.properties).mediaStateIdToHState;return s[e.id]=a,r(x({id:t,mediaStateIdToHState:s})),u;case pt.ContentItemType.Video:var f=r(ie(t,e,n)),d=St(l(i()),f),p=Object(c.cloneDeep)(o.properties).mediaStateIdToHState;return p[e.id]=d,r(x({id:t,mediaStateIdToHState:p})),f;default:return""}return""}},ae=function(t){return function(e,n){var r=Object(dt.dmFilterDmState)(l(n())),i=yt(l(n()),t);if(i.type===d.VideoOrImages){var o=i.properties,u=null,a=Object(dt.dmGetInitialMediaStateIdForZone)(r,{id:o.zoneId});if(!Object(c.isNil)(a)){var s=Object(dt.dmGetMediaStateById)(r,{id:a});u=gt(l(n()),i.id,s.id)}e(D(t,u))}}},se=function(t){return function(e,n){var r=yt(l(n()),t),i=St(l(n()),r.activeStateId);return Promise.resolve(i)}},fe=function(){return function(t,e){var n=t(Ee("player",d.Player,{})),r=t(Qt(te(h.Top,n,"","top")));t(N(n,r));var i=t(Qt(te(h.Player,n,r,"player")));t(Qt(te(h.Playing,n,i,"playing"))),t(Qt(te(h.Waiting,n,i,"waiting")))}},le=function(){return function(t,e){var n=mt(l(e()),"player");Object(c.isNil)(n)||t(we(n.id))}},de=function(){return function(t,e){return t(me("")).then((function(){var t=bt(l(e()),"playing");return Promise.resolve(t)}))}},pe=function(t,e,n){return function(e,r){return n.nextStateId=t.superStateId,"SUPER"}},he=function(t,e,n){return function(r,i){return n.nextStateId=null,e.EventType&&"ENTRY_SIGNAL"===e.EventType?(r(ve()),"HANDLED"):(n.nextStateId=t.superStateId,"SUPER")}},ye=function(t,e,n){return function(r,i){if(n.nextStateId=null,e.EventType&&"ENTRY_SIGNAL"===e.EventType)return"HANDLED";if(e.EventType&&"TRANSITION_TO_PLAYING"===e.EventType){var o=bt(l(i()),"Playing");if(!Object(c.isNil)(o))return n.nextStateId=o.id,"TRANSITION"}return n.nextStateId=t.superStateId,"SUPER"}},me=function(t){return function(e,n){return e(Be(t))}},ve=function(){return function(t,e){var n=l(e()).bsdm;Object(dt.dmGetZonesForSign)(n).forEach((function(e){var r=Object(dt.dmGetZoneById)(n,{id:e});console.log(r),t(ce(e,r.type.toString(),r))}));for(var r=[],i=0,o=wt(l(e()));i<o.length;i++){var c=o[i];t(Se(c.id));var u=we(c.id);r.push(t(u))}Promise.all(r).then((function(){if(jt(l(e()))){t(Le({EventType:"NOP"}))}}))}},Se=function(t){return function(e,n){var r=yt(l(n()),t);if(!Object(c.isNil)(r))switch(r.type){case d.Player:break;case d.VideoOrImages:return e(ae(t))}}},be=function(t,e,n){return function(r,i){var o=null;if(!Object(c.isNil)(t))switch(t.type){case h.Top:o=r(ge(t,e,n));break;case h.Player:o=r(pe(t,e,n));break;case h.Playing:o=r(he(t,e,n));break;case h.Waiting:o=r(ye(t,e,n));break;case h.Image:o=r(re(t,e,n));break;case h.Video:o=r(oe(t,e,n))}return o}},ge=function(t,e,n){return function(t){return n.nextStateId=null,"IGNORED"}},Ee=function(t,e,n){return function(r){var i=$t();return r(j({id:i,name:t,type:e,initialized:!1,topStateId:"",activeStateId:null,properties:n})),i}};function we(t){return function(e,n){var r=function(t){return function(e,n){switch(yt(l(n()),t).type){case d.Player:return e(de());case d.VideoOrImages:return e(se(t))}}}(t);return Object(c.isNil)(r)?Promise.resolve():e(r).then((function(r){return e(D(t,r)),e(function(t){var e;return function(n,r){var i=yt(l(r()),t),o=St(l(r()),i.activeStateId),u=St(l(r()),i.topStateId),a={nextStateId:null},s={EventType:"EMPTY_SIGNAL"},f={EventType:"ENTRY_SIGNAL"},d={EventType:"INIT_SIGNAL"};if(Object(c.isNil)(o))return n(D(t,null)),void n(_(t,!0));if(!Object(c.isNil)(o)){var p=o;Object(c.isNil)(u);for(var h=u;;){var y=[],m=0;for(y[0]=p,e=be(o,s,a),n(e),o=p=St(l(r()),a.nextStateId);p.id!==h.id;)y[m+=1]=p,e=be(o,s,a),n(e),o=p=St(l(r()),a.nextStateId);for(;m>=0;){var v=y[m];e=be(v,f,a),n(e),m-=1}if(h=y[0],e=be(h,d,a),"TRANSITION"!==n(e))return n(D(t,o=h)),void n(_(t,!0));o=p=St(l(r()),a.nextStateId)}}}}(t)),Et(l(n()),t),Promise.resolve()}))}}function Oe(t){Object(c.isNil)(t)||t()}function Ie(t,e,n){var r,i;return function(o,u){var a=St(l(u()),n);if(Object(c.isNil)(a))o(D(e,null));else{var s={nextStateId:null},f={EventType:"EMPTY_SIGNAL"},d={EventType:"ENTRY_SIGNAL"},p={EventType:"INIT_SIGNAL"},h={EventType:"EXIT_SIGNAL"},y=a;i="SUPER";for(var m=a;"SUPER"===i;)r=be(m=a,t,s),i=o(r),a=St(l(u()),s.nextStateId);if("TRANSITION"===i){var v=[];for(v[0]=a,v[1]=y;y.id!==m.id;)r=be(y,h,s),"HANDLED"===(i=o(r))&&(r=be(y,f,s),i=o(r)),y=St(l(u()),s.nextStateId);y=v[0];var S=-1;if(m.id===y.id)r=be(m,h,s),i=o(r),S=0;else if(r=be(y,f,s),i=o(r),y=St(l(u()),s.nextStateId),m.id===y.id)S=0;else if(r=be(m,f,s),i=o(r),St(l(u()),s.nextStateId).id===y.id)r=be(m,h,s),i=o(r),S=0;else if(St(l(u()),s.nextStateId).id===v[0].id)r=be(m,h,s),i=o(r);else{var b=0;S=1,v[1]=y,y=St(l(u()),s.nextStateId);var g=v[1];for(r=be(g,f,s),i=o(r);"SUPER"===i;)if(v[S+=1]=St(l(u()),s.nextStateId),St(l(u()),s.nextStateId).id===m.id)b=1,S-=1,i="HANDLED";else{var E=St(l(u()),s.nextStateId);r=be(E,f,s),i=o(r)}if(0===b){for(r=be(m,h,s),i=o(r),b=S,i="IGNORED";b>=0;)y.id===v[b].id?(i="HANDLED",S=b-1,b=-1):b-=1;if("HANDLED"!==i)for(i="IGNORED";"HANDLED"!==i;)for(r=be(y,h,s),"HANDLED"===(i=o(r))&&(r=be(y,f,s),i=o(r)),y=St(l(u()),s.nextStateId),b=S;b>0;)y.id===v[b].id?(S=b-1,b=-1,i="HANDLED"):b-=1}}for(;S>=0;){var w=v[S];r=be(w,d,s),i=o(r),S-=1}for(a=y=v[0],r=be(y,p,s),i=o(r),a=St(l(u()),s.nextStateId);"TRANSITION"===i;){for(S=0,v[0]=a,r=be(a,f,s),i=o(r),a=St(l(u()),s.nextStateId);a.id!==y.id;)v[S+=1]=a,r=be(a,f,s),i=o(r),a=St(l(u()),s.nextStateId);for(a=v[0];S>=0;){var O=v[S];r=be(O,d,s),i=o(r),S-=1}y=v[0],r=be(y,p,s),i=o(r)}}o(D(e,a=y))}}}var Te,Pe=function(t,e,n){return function(r,i){var o=Object(dt.dmFilterDmState)(l(i())),u=Object(dt.dmGetMediaStateById)(o,{id:t.data.mediaStateId});Object(c.isNil)(u);var a=xe(u,e);return Object(c.isNil)(a)?(n.nextStateId=t.superStateId,"SUPER"):je(l(i()),t,a,n)}},je=function(t,e,n,r){if(Object(c.isNil)(n.transitionList)||0===n.transitionList.length)switch(n.action){case pt.EventIntrinsicAction.None:case pt.EventIntrinsicAction.ReturnToPriorState:return"HANDLED"}else{var i=n.transitionList[0].targetMediaStateId,o=yt(t,e.hsmId).properties,u=o.mediaStateIdToHState[i];if(!Object(c.isNil)(u)){var a=Object(dt.dmGetMediaStateById)(Object(dt.dmFilterDmState)(t),{id:u.data.mediaStateId});if(!Object(c.isNil)(a)&&a.contentItem.type===pt.ContentItemType.SuperState){var s=a.contentItem.initialMediaStateId;u=o.mediaStateIdToHState[s]}return r.nextStateId=u.id,"TRANSITION"}}return r.nextStateId=e.superStateId,"SUPER"},xe=function(t,e){for(var n=0,r=t.eventList;n<r.length;n++){var i=r[n];if(i.type===e.EventType)return i}return null},Ne=function(t){return function(e,n){var r=St(l(n()),t);if(!Object(c.isNil)(r)){var i=r;Object(c.isNil)(i.data.mediaStateData)||Object(c.isNumber)(i.data.mediaStateData.timeoutId)&&(clearTimeout(i.data.mediaStateData.timeoutId),e(A(t,0)))}}},_e=function(t){return function(e,n){for(var r=l(n()).bsdm,i=0,o=Object(dt.dmGetEventIdsForMediaState)(r,{id:t.data.mediaStateId});i<o.length;i++){var c=o[i],u=Object(dt.dmGetEventStateById)(r,{id:c});if(u.type===pt.EventType.Timer){var a=u.data.interval;if(a&&a>0){var s=setTimeout(De,1e3*a,{dispatch:e,hState:t});e(A(t.id,s))}}}}},De=function(t){var e={EventType:pt.EventType.Timer,EventData:p.MediaHState};t.dispatch(Le(e))};function ke(t){return Te=t,function(t){}}function Ae(){return function(t){t(fe()),t(le())}}var Le=function(t){return function(e,n){if("NOP"!==t.EventType&&e(R(t)),jt(l(n())))for(var r=Pt(l(n()));r.length>0;)e(Re(r[0])),e(M()),r=Pt(l(n()))}};function Re(t){return function(e,n){var r=l(n()),i=mt(r,"player");if(!Object(c.isNil)(i)){e(Ie(t,i.id,i.activeStateId));var o=ht(r);for(var u in o)if(u!==i.id){var a=vt(r,u);Object(c.isNil)(a)||e(Ie(t,u,a.id))}}}}var Me=function(){return function(t){t(Fe()).then((function(){t(Ae())}))}},Fe=function(){return function(t){return t(He()),t(Ce()),t(Ue()).then((function(){return t(ze())}))}},He=function(){return function(t){var e=f.Dev;t(Z(e))}},Ce=function(){return function(t,e){var r=n(64),i=xt(l(e())),o="";i===f.Dev?(n(65).config(),t(tt({width:r.env.SCREEN_WIDTH,height:r.env.SCREEN_HEIGHT})),o=r.env.SOURCE_DIRECTORY):i===f.BaconPreview?o="/Users/tedshaffer/Desktop/autotron-2020":r.chdir("/storage/sd"),t($(o))}},Ue=function(){return function(t,e){var n,r=Nt(l(e()));return(n=r,function(t){return function(t){var e=function(t){return a.a.join(t,"local-sync.json")}(t);return s.pathExists(e).then((function(t){return t?Promise.resolve(e):Promise.resolve(null)}))}(t).then((function(e){return Object(c.isNil)(e)?function(t){var e=function(t){return a.a.join(t,"current-sync.json")}(t);return s.pathExists(e).then((function(t){return t?Promise.resolve(e):Promise.resolve(null)}))}(t):Promise.resolve(e)}))}(n).then((function(t){return t?Promise.resolve(function(t){return s.readFile(t,"utf8").then((function(t){var e=JSON.parse(t);return Promise.resolve(e)}))}(t)):Promise.reject("no sync spec found")}))).then((function(e){for(var n={},r=0,i=e.files.download;r<i.length;r++){var o=i[r];n[o.name]=o}return t(X(n)),Promise.resolve()}))}},ze=function(){return function(t,e){return new Promise((function(n,r){var i=l(e());Mt(i,"autoschedule.json").then((function(e){return t(Q(e)),n(null)}))}))}};var Be=function(t){return function(t,e){var n=xt(e());if(n===f.BaconPreview);else if(n===f.Dev){var r=function(t,e){var n=kt(l(e()));if(Object(c.isNil)(n))return Promise.resolve();var r=n.scheduledPresentations[0].presentationToSchedule.name+".bml",i=Dt(l(e()));return Object(c.isNil)(i)?Promise.resolve():Ft(r,i,Nt(l(e()))).then((function(e){var n=e.bsdm;t(Object(dt.dmOpenSign)(n))}))};return t(r)}}},Ge=n(30),Ve=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),We=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ve(e,t),e.prototype.render=function(){var t=a.a.join("file://",this.props.filePath),e=Ge(this.props.filePath);if(Object(c.isNil)(e))return null;var n=Xt(e.width,e.height,this.props.zoneWidth,this.props.zoneHeight),i=(this.props.screenDimensions.width-n.width)/2,o=(this.props.screenDimensions.height-n.height)/2;return r.createElement("img",{style:{position:"absolute",left:i,top:o},src:t,width:n.width.toString(),height:n.height.toString(),alt:""})},e}(r.Component),Je=Object(i.connect)((function(t,e){return{filePath:Lt(t=l(t),e.assetName),zoneWidth:e.zoneWidth,zoneHeight:e.zoneHeight,assetName:e.assetName}}))(We),Ye=function(){return function(t,e){var n={EventType:pt.EventType.MediaEnd};t(Le(n))}},qe=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ke=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qe(e,t),e.prototype.handleSetVideoElementRef=function(t){this.videoElementRef=t,this.props.onSetVideoElementRef(t)},e.prototype.render=function(){var t=a.a.join("file://",this.props.filePath),e=this;return r.createElement("video",{src:t,width:this.props.zoneWidth.toString(),height:this.props.zoneHeight.toString(),autoPlay:!0,ref:function(t){e.handleSetVideoElementRef(t)},onEnded:function(){e.props.onVideoEnd()}})},e}(r.Component),Ze=Object(i.connect)((function(t,e){return{filePath:Lt(t=l(t),e.assetName),width:e.zoneWidth,height:e.zoneHeight,assetName:e.assetName}}),(function(t){return Object(o.bindActionCreators)({onVideoEnd:Ye,onSetVideoElementRef:ot},t)}))(Ke),$e=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $e(e,t),e.prototype.renderMediaItem=function(t,e){var n=e.type,i=Xt(this.props.zoneWidth,this.props.zoneHeight,this.props.screenDimensions.width,this.props.screenDimensions.height);switch(n){case pt.ContentItemType.Image:return r.createElement(Je,{assetName:t.name,zoneWidth:i.width,zoneHeight:i.height,screenDimensions:this.props.screenDimensions});case pt.ContentItemType.Video:return r.createElement(Ze,{assetName:t.name,zoneWidth:i.width,zoneHeight:i.height})}return null},e.prototype.getEvents=function(t,e){return Object(dt.dmGetEventIdsForMediaState)(t,{id:e}).map((function(e){return Object(dt.dmGetEventById)(t,{id:e})}))},e.prototype.render=function(){if(!Object(c.isString)(this.props.mediaStateId)||0===this.props.mediaStateId.length)return null;var t=Object(dt.dmGetMediaStateById)(this.props.bsdm,{id:this.props.mediaStateId}),e=t.contentItem;switch(e.type){case pt.ContentItemType.Image:case pt.ContentItemType.Video:return this.renderMediaItem(t,e)}return null},e}(r.Component),Qe=Object(i.connect)((function(t,e){return t=l(t),{bsdm:e.bsdm,zone:e.zone,zoneWidth:e.zoneWidth,zoneHeight:e.zoneHeight,mediaStateId:It(t,e.zone.id),mrssDisplayIndex:Tt(t,e.zone.id)}}))(Xe),tn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),en=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tn(e,t),e.prototype.renderMediaZone=function(t){var e=Xt(t.absolutePosition.width,t.absolutePosition.height,this.props.screenDimensions.width,this.props.screenDimensions.height);return r.createElement("div",{key:t.id,style:{position:"absolute",left:t.absolutePosition.x,top:t.absolutePosition.y,width:e.width,height:e.height}},r.createElement(Qe,{key:t.id,bsdm:this.props.bsdm,zone:t,zoneWidth:Number(t.absolutePosition.width),zoneHeight:Number(t.absolutePosition.height),screenDimensions:this.props.screenDimensions}))},e.prototype.renderTickerZone=function(t){return r.createElement("div",{key:t.id,style:{position:"absolute",left:t.absolutePosition.x,top:t.absolutePosition.y,width:t.absolutePosition.width,height:t.absolutePosition.height}},r.createElement("div",null,"Pizza"))},e.prototype.renderZone=function(t){var e=Object(dt.dmGetZoneById)(this.props.bsdm,{id:t});switch(e.type){case"VideoOrImages":return this.renderMediaZone(e);case"Ticker":return this.renderTickerZone(e)}return null},e.prototype.render=function(){var t=this,e=Object(dt.dmGetZonesForSign)(this.props.bsdm);return r.createElement("div",null,e.map((function(e){return t.renderZone(e)})))},e}(r.Component),nn=Object(i.connect)((function(t){return{bsdm:(t=l(t)).bsdm,screenDimensions:_t(t)}}))(en),rn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),on=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rn(e,t),e.prototype.componentDidMount=function(){this.props.onInitPresentation()},e.prototype.render=function(){var t=!0;for(var e in 0!==this.props.bsdm.zones.allZones.length&&0!==Object.keys(this.props.hsmMap).length||(t=!1),this.props.hsmMap){if(this.props.hsmMap.hasOwnProperty(e))this.props.hsmMap[e].initialized||(t=!1)}return t?r.createElement(nn,null):r.createElement("div",null,"Waiting for the presentation to be loaded...")},e}(r.Component);var cn=Object(i.connect)((function(t){var e=l(t);return{bsdm:t.bsdm,autoschedule:kt(e),hsmMap:ht(e)}}),(function(t){return Object(o.bindActionCreators)({onInitPresentation:Me},t)}))(on)}])}));
//# sourceMappingURL=main.bsuit.js.map